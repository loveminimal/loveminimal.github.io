<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="SQL - https://aituyaa.com/sql/">
    <meta name="author" content="Jack - https://aituyaa.com/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>SQL</title>
    
    <base target="_blank">
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    
    
    
    
    <link rel="stylesheet" href="https://aituyaa.com/style.min.7a1211384e00d894dc501a9708ae5fb349825c010d5348b62a8727d135f41615.css">
    
    <script>const DARK =  false ;</script>
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        
        <div class="cool-before" style="background: url('/imgs/bg/color.jpg') left top/100% no-repeat fixed;"></div>
        <div id="header" class=""><div class="container-header">

    
    
    
    <div class="right">
        
        <h1 class="title">SQL</h1>
    
        
        
            <div id="toc">ğŸ“œ</div>
        
    </div>
</div>
</div>
        <div id="content">










<div class="container-main container-page ">

    

    
    
    
    <div class="rel">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <div class="curtag-desc">
            <a href="https://aituyaa.com/tags/ols/"><img src="/imgs/icons/tag.svg" width="16" /> ç›¸å…³æ–‡ç« ï¼šOLs <sup>13</sup></a>
        </div>

        <div class="curtag-post">
            
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/css-%E4%B8%AD%E7%9A%84%E5%8A%A8%E6%95%88/">CSS ä¸­çš„åŠ¨æ•ˆ</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/emacs-lisp/">Emacs Lisp</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/git/">Git</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/git-%E6%8F%90%E4%BA%A4%E6%B6%88%E6%81%AF%E7%BA%A6%E5%AE%9A/">Git æäº¤æ¶ˆæ¯çº¦å®š</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/json-web-tokens/">Json Web Tokens</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/lua-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/">Lua é‚£äº›äº‹å„¿</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/poetry-%E7%9A%84%E7%AE%80%E8%A6%81%E8%AF%B4%E6%98%8E/">Poetry çš„ç®€è¦è¯´æ˜</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/python-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/">Python é‚£äº›äº‹å„¿</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/shell-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/">Shell é‚£äº›äº‹å„¿</a>
                </div>
                
                
            
            
                <div class="curtag-post-item curtag-post-item--active">
                    <a href="https://aituyaa.com/sql/">SQL</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E5%AD%97%E7%AC%A6%E9%9B%86%E5%92%8C%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81/">å­—ç¬¦é›†å’Œå­—ç¬¦ç¼–ç </a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">æ­£åˆ™è¡¨è¾¾å¼</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E8%BF%9B%E5%88%B6%E5%8F%8A%E8%BD%AC%E6%8D%A2/">è¿›åˆ¶åŠè½¬æ¢</a>
                </div>
                
                
        </div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </div>
    
    

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="7409" width="12" height="12">
                <path
                    d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z"
                    p-id="7410" fill="#adb5bd"></path>
            </svg>
            2023-05-26&nbsp;&nbsp;&nbsp;
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="23838" width="11" height="11">
                <path
                    d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z"
                    p-id="23839" fill="#adb5bd"></path>
            </svg>
            2024-12-12&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="33866" width="12" height="12">
                <path
                    d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z"
                    fill="#adb5bd" p-id="33867"></path>
                <path
                    d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z"
                    fill="#adb5bd" p-id="33868"></path>
            </svg>
            9040 å­—</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="32892" width="12" height="12">
                <path
                    d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z"
                    p-id="32893" fill="#adb5bd"></path>
                <path
                    d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z"
                    p-id="32894" fill="#adb5bd"></path>
            </svg>
            19 åˆ†é’Ÿ</span>
        <div class="container-ctgtag">
	<div class="taxonomy">
		<div class="tag">
			
			
			<a href="/tags/ols">OLs</a>
			
		</div>
	</div>
</div>
        
    </div>

    <div class="toc">
        <div class="container-page-operation">
	<div class="page-operation">
		<div><a href="/"><img src="/imgs/icons/home-2.svg" alt=""></a></div>
		<div><a href="/nav"><img src="/imgs/icons/iov-navigate-1.svg" alt=""></a></div>
		<div><a href="/wiki"><img src="/imgs/icons/wiki.svg" alt=""></a></div>
		<div><a href="/tags"><img src="/imgs/icons/treetags.svg" alt=""></a></div>
		<div id="light-dark"><a><img src="/imgs/icons/moon2.svg" alt=""></a></div>
		<div><a href="#"><img src="/imgs/icons/up2.svg" alt=""></a></div>
	</div>
</div>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#sql">SQL</a>
      <ul>
        <li><a href="#å…³ç³»æ•°æ®åº“æ¦‚è¿°">å…³ç³»æ•°æ®åº“æ¦‚è¿°</a></li>
        <li><a href="#å®‰è£…-mysql">å®‰è£… MySQL</a></li>
        <li><a href="#å…³ç³»æ¨¡å‹">å…³ç³»æ¨¡å‹</a></li>
        <li><a href="#æŸ¥è¯¢æ•°æ®">æŸ¥è¯¢æ•°æ®</a></li>
        <li><a href="#ä¿®æ”¹æ•°æ®">ä¿®æ”¹æ•°æ®</a></li>
        <li><a href="#mysql">MySQL</a></li>
        <li><a href="#äº‹åŠ¡">äº‹åŠ¡</a></li>
      </ul>
    </li>
    <li><a href="#jdbc">JDBC</a>
      <ul>
        <li><a href="#jdbc-æ˜¯ä»€ä¹ˆ">JDBC æ˜¯ä»€ä¹ˆ</a></li>
        <li><a href="#jdbc-è¿æ¥">JDBC è¿æ¥</a></li>
        <li><a href="#jdbc-æŸ¥è¯¢">JDBC æŸ¥è¯¢</a></li>
        <li><a href="#jdbc-æ›´æ–°">JDBC æ›´æ–°</a></li>
        <li><a href="#jdbc-äº‹åŠ¡">JDBC äº‹åŠ¡</a></li>
        <li><a href="#jdbc-batch">JDBC Batch</a></li>
        <li><a href="#jdbc-è¿æ¥æ± ">JDBC è¿æ¥æ± </a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div class='content  '>
        <p>ğŸ”” æ‘˜å½•è‡ªÂ <a href="https://www.liaoxuefeng.com/wiki/1177760294764384">å»–é›ªå³°è€å¸ˆçš„ SQL æ•™ç¨‹</a></p>
<p>SQLï¼Œç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼ˆStructured Query Language ï¼‰ï¼Œæ˜¯ä¸€ç§æ•°æ®åº“æŸ¥è¯¢å’Œç¨‹åºè®¾è®¡è¯­è¨€ï¼Œç”¨äºè®¿é—®å’Œæ“ä½œæ•°æ®åº“ç³»ç»Ÿã€‚SQL è¯­å¥æ—¢å¯ä»¥æŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ’å…¥ã€æ›´æ–°å’Œåˆ é™¤æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œè¿˜å¯ä»¥å¯¹æ•°æ®åº“è¿›è¡Œç®¡ç†å’Œç»´æŠ¤æ“ä½œã€‚</p>
<blockquote>
<p>:: æ•°æ®åº“èƒ½å¬æ‡‚çš„è¯­è¨€ â€“ SQL</p>
</blockquote>
<h2 id="sql">SQL</h2>
<h3 id="å…³ç³»æ•°æ®åº“æ¦‚è¿°">å…³ç³»æ•°æ®åº“æ¦‚è¿°</h3>
<p>ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®åº“ï¼ŸÂ <strong>ä¸ºäº†ä¼˜åŒ–æ•°æ®çš„è¯»å†™åŠç®¡ç†ã€‚</strong>Â åº”ç”¨ç¨‹åºä¸éœ€è¦è‡ªå·±ç®¡ç†æ•°æ®ï¼Œè€Œæ˜¯é€šè¿‡æ•°æ®åº“è½¯ä»¶æä¾›çš„æ¥å£æ¥è¯»å†™æ•°æ®ã€‚è‡³äºæ•°æ®æœ¬èº«å¦‚ä½•å­˜å‚¨åˆ°æ–‡ä»¶ï¼Œé‚£å°±æ˜¯æ•°æ®åº“è½¯ä»¶çš„äº‹æƒ…äº†ã€‚</p>
<p>æ•°æ®åº“æŒ‰ç…§æ•°æ®ç»“æ„æ¥ç»„ç»‡ã€å­˜å‚¨å’Œç®¡ç†æ•°æ®ï¼Œæœ‰ä¸‰ç§æ¨¡å‹ï¼šå±‚æ¬¡æ¨¡å‹ã€ç½‘å…³æ¨¡å‹å’Œå…³ç³»æ¨¡å‹ã€‚</p>
<p>å…³ç³»æ•°æ®åº“çš„å…³ç³»æ¨¡å‹æ˜¯åŸºäºæ•°å­¦ç†è®ºå»ºç«‹çš„ï¼ˆæœ‰å…´è¶£çš„å¯ä»¥æ·±å…¥ä¸‹ï¼‰ã€‚å…¶æ”¯æŒçš„æ ‡å‡†æ•°æ®ç±»å‹åŒ…æ‹¬æ•°å€¼ã€å­—ç¬¦ä¸²ã€æ—¶é—´ç­‰ï¼Œå¦‚ä¸‹è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th>åç§°</th>
<th>ç±»å‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>INT</td>
<td>æ•´å‹</td>
<td>4 å­—èŠ‚ï¼Œçº¦ +/-21 äº¿</td>
</tr>
<tr>
<td>BIGINT</td>
<td>é•¿æ•´å‹</td>
<td>8 å­—èŠ‚ï¼Œçº¦ +/-922 äº¿</td>
</tr>
<tr>
<td>REAL/FLOAT(24)</td>
<td>æµ®ç‚¹å‹</td>
<td>4 å­—èŠ‚</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>æµ®ç‚¹å‹</td>
<td>8 å­—èŠ‚</td>
</tr>
<tr>
<td>DECIMAL(M,N)</td>
<td>é«˜ç²¾åº¦å°æ•°</td>
<td><code>DECIMAL(20,10)</code>Â è¡¨ç¤ºä¸€å…± 20 ä½ï¼Œå…¶ä¸­å°æ•° 10 ä½ï¼Œé€šå¸¸ç”¨äºè´¢åŠ¡è®¡ç®—</td>
</tr>
<tr>
<td>CHAR(N)</td>
<td>å®šé•¿å­—ç¬¦ä¸²</td>
<td><code>CHAR(100)</code>Â æ€»æ˜¯å­˜å‚¨ 100 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>VARCHAR(N)</td>
<td>å˜é•¿å­—ç¬¦ä¸²</td>
<td><code>VARCHAR(100)</code>Â å¯ä»¥å­˜å‚¨ 0~100 ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>BOOLEAN</td>
<td>å¸ƒå°”ç±»å‹</td>
<td>å­˜å‚¨Â <code>True</code>Â æˆ–è€…Â <code>False</code></td>
</tr>
<tr>
<td>DATE</td>
<td>æ—¥æœŸç±»å‹</td>
<td><code>2018-06-22</code></td>
</tr>
<tr>
<td>TIME</td>
<td>æ—¶é—´ç±»å‹</td>
<td><code>12:20:59</code></td>
</tr>
<tr>
<td>DATETIME</td>
<td>æ—¥æœŸå’Œæ—¶é—´ç±»å‹</td>
<td><code>2018-06-22 12:20:59</code></td>
</tr>
</tbody>
</table>
<p>é€šå¸¸æ¥è¯´ï¼ŒÂ <code>BIGINT</code>Â èƒ½æ»¡è¶³æ•´æ•°å­˜å‚¨çš„éœ€æ±‚ï¼ŒÂ <code>VARCHAR(N)</code>Â èƒ½æ»¡è¶³å­—ç¬¦ä¸²å­˜å‚¨çš„éœ€æ±‚ã€‚å…¶ä»–ï¼Œè¿˜æœ‰ä¸€äº›ä¸å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œå¦‚Â <code>TINYINT</code>Â ï¼ˆèŒƒå›´åœ¨ 0~255ï¼‰ã€‚å„æ•°æ®åº“å‚å•†è¿˜ä¼šæ”¯æŒç‰¹å®šçš„æ•°æ®ç±»å‹ï¼Œå¦‚Â <code>JSON</code>Â ã€‚</p>
<p><strong>SQL è¯­è¨€å…³é”®å­—ä¸åŒºåˆ†å¤§å°å†™ï¼</strong></p>
<blockquote>
<p>:: ä¸€èˆ¬çº¦å®š SQL å…³é”®å­—æ€»æ˜¯å¤§å†™ï¼Œä»¥ç¤ºçªå‡ºï¼Œè¡¨åå’Œåˆ—åå‡ä½¿ç”¨å°å†™ã€‚</p>
</blockquote>
<h3 id="å®‰è£…-mysql">å®‰è£… MySQL</h3>
<p><a href="https://blog.csdn.net/LB_AUTO/article/details/106041858">1</a></p>
<p>é€‰æ‹©å›½å†…é•œåƒä¸‹è½½ï¼ˆå¦‚Â <a href="https://repo.huaweicloud.com/mysql/Downloads/">åä¸ºçš„ MySQL é•œåƒ</a>ï¼‰ï¼Œå®˜ç½‘å¤ªæ…¢äº†â€¦â€¦</p>
<p>å¦‚æœï¼Œä½ è¦ä¹Ÿè¦ä¸‹è½½ mysql-8.0.26 ï¼Œå¯ä»¥ç›´æ¥Â <a href="https://repo.huaweicloud.com/mysql/Downloads/MySQL-8.0/mysql-8.0.26-winx64.msi">ç‚¹æ­¤ä¸‹è½½</a>Â ã€‚</p>
<p>å®‰è£…å®Œæˆä¹‹åï¼Œå°†æ‰§è¡Œè·¯å¾„ï¼Œå¦‚Â <code>C:\Program Files\MySQL\MySQL Server 8.0\bin</code>Â åŠ å…¥åˆ°ç”µè„‘ç¯å¢ƒå˜é‡ä¸­ï¼ˆå…·ä½“æ–¹æ³•è‡ªè¡Œç™¾åº¦ï¼‰ï¼Œä»¥ç®¡ç†å‘˜æƒé™æ‰“å¼€ cmd æˆ– Powershellï¼š</p>
<ul>
<li>è¾“å…¥Â <code>mysqld --initialize --console</code>Â ï¼Œè¿›è¡Œåˆå§‹åŒ–ï¼Œè¯¥æ­¥å¯ä»¥å¾—åˆ° mysql çš„åˆå§‹å¯†ç ï¼›</li>
<li>è¾“å…¥Â <code>mysqld --install</code>Â ï¼Œå¦‚æœéœ€è¦å®‰è£…å¤šä¸ª mysql æœåŠ¡ï¼Œè¿™æ­¥è¾“å…¥Â <code>mysql --install [æœåŠ¡å]</code>ï¼›</li>
<li>è¾“å…¥Â <code>net start mysql</code>Â ï¼Œå¯åŠ¨ MySQL æœåŠ¡ï¼›</li>
<li>è¾“å…¥Â <code>mysql -u root -p</code>Â ï¼Œä½¿ç”¨åˆå§‹å¯†ç ç™»å½• mysql ï¼›</li>
<li>ç™»å½•åï¼ŒæŠŠåˆå§‹å¯†ç æ”¹æ‰ï¼Œè¾“å…¥Â <code>ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'ä½ è‡ªå·±çš„å¯†ç ';</code>Â ï¼ˆæ³¨æ„å¸¦åˆ†å·ï¼‰ï¼›</li>
<li>è¾“å…¥Â <code>show databases;</code>Â ï¼Œå¯ä»¥æŸ¥çœ‹åŒ…å«å“ªäº›æ•°æ®åº“äº†ã€‚</li>
</ul>
<p>WIN10 å…·ä½“å®‰è£… mysql 8.0.26 å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 1. åˆå§‹åŒ–</span>
</span></span><span style="display:flex;"><span>PS C:<span style="color:#d14">\W</span>indows<span style="color:#d14">\s</span>ystem32&gt; mysqld --initialize --console
</span></span><span style="display:flex;"><span>2022-01-17T12:32:47.721393Z <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">[</span>System<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>MY-013169<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>Server<span style="color:#000;font-weight:bold">]</span> C:<span style="color:#d14">\P</span>rogram Files<span style="color:#d14">\M</span>ySQL<span style="color:#d14">\M</span>ySQL Server 8.0<span style="color:#d14">\b</span>in<span style="color:#d14">\m</span>ysqld.exe <span style="color:#000;font-weight:bold">(</span>mysqld 8.0.26<span style="color:#000;font-weight:bold">)</span> initializing of server in progress as process <span style="color:#099">16088</span>
</span></span><span style="display:flex;"><span>2022-01-17T12:32:47.739476Z <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">[</span>System<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>MY-013576<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>InnoDB<span style="color:#000;font-weight:bold">]</span> InnoDB initialization has started.
</span></span><span style="display:flex;"><span>2022-01-17T12:32:48.147715Z <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">[</span>System<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>MY-013577<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>InnoDB<span style="color:#000;font-weight:bold">]</span> InnoDB initialization has ended.
</span></span><span style="display:flex;"><span>2022-01-17T12:32:49.184664Z <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">[</span>Warning<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>MY-013746<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>Server<span style="color:#000;font-weight:bold">]</span> A deprecated TLS version TLSv1 is enabled <span style="color:#000;font-weight:bold">for</span> channel mysql_main
</span></span><span style="display:flex;"><span>2022-01-17T12:32:49.187008Z <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">[</span>Warning<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>MY-013746<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>Server<span style="color:#000;font-weight:bold">]</span> A deprecated TLS version TLSv1.1 is enabled <span style="color:#000;font-weight:bold">for</span> channel mysql_main
</span></span><span style="display:flex;"><span>2022-01-17T12:32:49.384847Z <span style="color:#099">6</span> <span style="color:#000;font-weight:bold">[</span>Note<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>MY-010454<span style="color:#000;font-weight:bold">]</span> <span style="color:#000;font-weight:bold">[</span>Server<span style="color:#000;font-weight:bold">]</span> A temporary password is generated <span style="color:#000;font-weight:bold">for</span> root@localhost: gMlai+AXi2rn
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 2. å®‰è£…æœåŠ¡</span>
</span></span><span style="display:flex;"><span>PS C:<span style="color:#d14">\W</span>indows<span style="color:#d14">\s</span>ystem32&gt; mysqld --install
</span></span><span style="display:flex;"><span>Service successfully installed.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 3. å¯åŠ¨æœåŠ¡</span>
</span></span><span style="display:flex;"><span>PS C:<span style="color:#d14">\W</span>indows<span style="color:#d14">\s</span>ystem32&gt; net start mysql
</span></span><span style="display:flex;"><span>MySQL æœåŠ¡æ­£åœ¨å¯åŠ¨ .
</span></span><span style="display:flex;"><span>MySQL æœåŠ¡å·²ç»å¯åŠ¨æˆåŠŸã€‚
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 4. ä½¿ç”¨åˆå§‹åŒ–å¯†ç ç™»å½•</span>
</span></span><span style="display:flex;"><span>PS C:<span style="color:#d14">\W</span>indows<span style="color:#d14">\s</span>ystem32&gt; mysql -u root -p
</span></span><span style="display:flex;"><span>Enter password: ************
</span></span><span style="display:flex;"><span>Welcome to the MySQL monitor.  Commands end with ; or <span style="color:#d14">\g</span>.
</span></span><span style="display:flex;"><span>Your MySQL connection id is <span style="color:#099">8</span>
</span></span><span style="display:flex;"><span>Server version: 8.0.26
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Copyright <span style="color:#000;font-weight:bold">(</span>c<span style="color:#000;font-weight:bold">)</span> 2000, 2021, Oracle and/or its affiliates.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Oracle is a registered trademark of Oracle Corporation and/or its
</span></span><span style="display:flex;"><span>affiliates. Other names may be trademarks of their respective
</span></span><span style="display:flex;"><span>owners.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Type <span style="color:#d14">&#39;help;&#39;</span> or <span style="color:#d14">&#39;\h&#39;</span> <span style="color:#000;font-weight:bold">for</span> help. Type <span style="color:#d14">&#39;\c&#39;</span> to clear the current input statement.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql&gt; show databases;
</span></span><span style="display:flex;"><span>ERROR <span style="color:#099">1820</span> <span style="color:#000;font-weight:bold">(</span>HY000<span style="color:#000;font-weight:bold">)</span>: You must reset your password using ALTER USER statement before executing this statement.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 5. ä¸º root è®¾ç½®è‡ªå·±çš„å¯†ç ï¼Œæ–¹ä¾¿ä¸‹æ¬¡ç™»å½•</span>
</span></span><span style="display:flex;"><span>mysql&gt; ALTER USER <span style="color:#d14">&#39;root&#39;</span>@<span style="color:#d14">&#39;localhost&#39;</span> IDENTIFIED WITH mysql_native_password BY <span style="color:#d14">&#39;your_password&#39;</span>;
</span></span><span style="display:flex;"><span>Query OK, <span style="color:#099">0</span> rows affected <span style="color:#000;font-weight:bold">(</span>0.00 sec<span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql&gt; show databases;
</span></span><span style="display:flex;"><span>+--------------------+
</span></span><span style="display:flex;"><span>| Database           |
</span></span><span style="display:flex;"><span>+--------------------+
</span></span><span style="display:flex;"><span>| information_schema |
</span></span><span style="display:flex;"><span>| mysql              |
</span></span><span style="display:flex;"><span>| performance_schema |
</span></span><span style="display:flex;"><span>| sys                |
</span></span><span style="display:flex;"><span>+--------------------+
</span></span><span style="display:flex;"><span><span style="color:#099">4</span> rows in <span style="color:#0086b3">set</span> <span style="color:#000;font-weight:bold">(</span>0.01 sec<span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ä½¿ç”¨ exit é€€å‡º</span>
</span></span><span style="display:flex;"><span>mysql&gt; <span style="color:#0086b3">exit</span>
</span></span><span style="display:flex;"><span>Bye
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ä¸‹æ¬¡ä½¿ç”¨æ–°è®¾ç½®çš„å¯†ç  &#39;your_password&#39; ç™»å½•å³å¯</span>
</span></span><span style="display:flex;"><span>PS C:<span style="color:#d14">\W</span>indows<span style="color:#d14">\s</span>ystem32&gt; mysql -u root -p
</span></span><span style="display:flex;"><span>Enter password: *************
</span></span><span style="display:flex;"><span>Welcome to the MySQL monitor.  Commands end with ; or <span style="color:#d14">\g</span>.
</span></span><span style="display:flex;"><span>Your MySQL connection id is <span style="color:#099">10</span>
</span></span><span style="display:flex;"><span>Server version: 8.0.26 MySQL Community Server - GPL
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Copyright <span style="color:#000;font-weight:bold">(</span>c<span style="color:#000;font-weight:bold">)</span> 2000, 2021, Oracle and/or its affiliates.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Oracle is a registered trademark of Oracle Corporation and/or its
</span></span><span style="display:flex;"><span>affiliates. Other names may be trademarks of their respective
</span></span><span style="display:flex;"><span>owners.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Type <span style="color:#d14">&#39;help;&#39;</span> or <span style="color:#d14">&#39;\h&#39;</span> <span style="color:#000;font-weight:bold">for</span> help. Type <span style="color:#d14">&#39;\c&#39;</span> to clear the current input statement.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mysql&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¶ä»–ç‰ˆæœ¬çš„å®‰è£…è¿‡ç¨‹ï¼Œå¤§åŒå°å¼‚ï¼Œå‡ºç°çš„é—®é¢˜å¯èƒ½æ˜¯å½¢å½¢è‰²è‰²ï¼Œç›´æ¥ç™¾åº¦å°± OK äº†ã€‚</p>
<p><strong>Ubuntu20 å®‰è£…ç›¸å…³</strong>
<a href="https://devanswers.co/install-secure-mysql-server-ubuntu-20-04/">3</a></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sudo apt update <span style="color:#000;font-weight:bold">&amp;&amp;</span> sudo apt install mysql-server <span style="color:#998;font-style:italic"># å®‰è£…</span>
</span></span><span style="display:flex;"><span>sudo service mysql status                        <span style="color:#998;font-style:italic"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># OR systemctl status mysql</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo mysql                      <span style="color:#998;font-style:italic"># Ubuntu é»˜è®¤ root@localhost æ˜¯æ— å¯†ç çš„</span>
</span></span><span style="display:flex;"><span>mysql&gt; exit;
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚ä½•ä¸º <code>root@localhost</code> è®¾ç½®å¯†ç å‘¢ï¼Ÿ
<a href="https://www.cnblogs.com/Noturns/p/13385481.html">4</a></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>mysql<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>alert<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">user</span><span style="color:#bbb"> </span><span style="color:#d14">&#39;root&#39;</span><span style="color:#000;font-weight:bold">@</span><span style="color:#d14">&#39;localhost&#39;</span><span style="color:#bbb"> </span>identified<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">with</span><span style="color:#bbb"> </span>mysql_native_password<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">by</span><span style="color:#bbb"> </span><span style="color:#d14">&#39;ä½ è‡ªå·±çš„mysqlå¯†ç &#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>mysql<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>flush<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">privileges</span>;<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚ä½•å½“å‰ Mysql æœåŠ¡å¯èƒ½è¿œç¨‹ç™»å½•å‘¢ï¼Ÿ
<a href="https://blog.csdn.net/sunrj_niu/article/details/113350063">5</a></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>mysql<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">create</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">user</span><span style="color:#bbb"> </span><span style="color:#d14">&#39;root&#39;</span><span style="color:#000;font-weight:bold">@</span><span style="color:#d14">&#39;%&#39;</span><span style="color:#bbb"> </span>identified<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">by</span><span style="color:#bbb"> </span><span style="color:#d14">&#39;ä½ è‡ªå·±çš„mysqlå¯†ç &#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>mysql<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">grant</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">all</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">privileges</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">on</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">*</span>.<span style="color:#000;font-weight:bold">*</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">to</span><span style="color:#bbb"> </span><span style="color:#d14">&#39;root&#39;</span><span style="color:#000;font-weight:bold">@</span><span style="color:#d14">&#39;%&#39;</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>mysql<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>flush<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">privileges</span>;<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ç„¶åï¼š</p>
<ol>
<li><code>cd /etc/mysql/mysql.conf.d</code>Â ;</li>
<li>ä¿®æ”¹ç›¸åº”çš„é…ç½®æ–‡ä»¶Â <code>mysqld.cnf</code>Â ;</li>
<li>å°†Â <code>bind-address</code>Â 127.0.0.1<code>ä¿®æ”¹ä¸º</code>bind-addressÂ <code>0.0.0.0</code>Â ;</li>
<li><code>service mysql restart</code>Â é‡å¯ mysql æœåŠ¡ï¼›</li>
<li><code>netstat -lntp</code>Â æŸ¥çœ‹çŠ¶æ€ã€‚</li>
</ol>
<h3 id="å…³ç³»æ¨¡å‹">å…³ç³»æ¨¡å‹</h3>
<p>å…³ç³»æ•°æ®åº“æ˜¯å»ºç«‹åœ¨å…³ç³»æ¨¡å‹ä¸Šï¼Œå…³ç³»æ¨¡å‹æœ¬è´¨ä¸Šå°±æ˜¯è‹¥å¹²å­˜å‚¨æ•°æ®çš„äºŒç»´è¡¨ã€‚è¡¨çš„æ¯ä¸€è¡Œç§°ä¸ºè®°å½•ï¼ˆRecordï¼‰ï¼Œæ¯ä¸€åˆ—ç§°ä¸ºå­—æ®µï¼ˆColumnï¼‰ã€‚</p>
<p>å­—æ®µå®šä¹‰äº†æ•°æ®ç±»å‹ï¼Œä»¥åŠæ˜¯å¦å…è®¸ä¸ºÂ <code>NULL</code>Â ï¼ˆ è¡¨ç¤ºå­—æ®µä¸å­˜åœ¨ï¼‰ã€‚</p>
<blockquote>
<p>:: é€šå¸¸æƒ…å†µä¸‹ï¼Œå­—æ®µåº”è¯¥é¿å…å…è®¸ä¸º NULLã€‚ä¸å…è®¸ä¸º NULL å¯ä»¥ç®€åŒ–æŸ¥è¯¢æ¡ä»¶ï¼ŒåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼Œä¹Ÿåˆ©äºåº”ç”¨ç¨‹åºè¯»å–æ•°æ®åæ— éœ€åˆ¤æ–­æ˜¯å¦ä¸º NULLã€‚</p>
</blockquote>
<p>å…³ç³»æ•°æ®åº“çš„è¡¨å’Œè¡¨ä¹‹é—´éœ€è¦å»ºç«‹â€œä¸€å¯¹å¤šâ€ï¼Œâ€œå¤šå¯¹ä¸€â€å’Œâ€œä¸€å¯¹ä¸€â€çš„å…³ç³»ï¼Œå…³ç³»æ˜¯é€šè¿‡ä¸»é”®å’Œå¤–é”®æ¥ç»´æŠ¤çš„ã€‚</p>
<p><strong>1. ä¸»é”®</strong></p>
<p>ä¸»é”®æ˜¯å…³ç³»è¡¨ä¸­è®°å½•çš„å”¯ä¸€æ ‡è¯†ï¼Œå…¶é€‰å–éå¸¸é‡è¦ï¼Œæ³¨æ„ä¸è¦å¸¦æœ‰ä¸šåŠ¡å«ä¹‰ï¼Œè€Œåº”è¯¥ä½¿ç”¨ BIGINT è‡ªå¢æˆ–è€… GUID ç±»å‹ï¼Œä¸»é”®ä¹Ÿä¸åº”è¯¥å…è®¸Â <code>NULL</code>Â ã€‚</p>
<p><strong>2. å¤–é”®</strong></p>
<p>åœ¨ä¸€å¼ è¡¨ä¸­ï¼Œé€šè¿‡æŸä¸ªå­—æ®µï¼Œå¯ä»¥æŠŠæ•°æ®ä¸å¦ä¸€å¼ è¡¨å…³è”èµ·æ¥ï¼Œè¿™ç§åˆ—ç§°ä¸ºå¤–é”®ã€‚å…³ç³»æ•°æ®åº“é€šè¿‡å¤–é”®å¯ä»¥å®ç°ä¸€å¯¹å¤šã€å¤šå¯¹å¤šï¼ˆéœ€è¦é€šè¿‡ä¸­é—´è¡¨ï¼‰å’Œä¸€å¯¹ä¸€çš„å…³ç³»ã€‚å¤–é”®æ—¢å¯ä»¥é€šè¿‡æ•°æ®åº“æ¥çº¦æŸï¼Œä¹Ÿå¯ä»¥ä¸è®¾ç½®çº¦æŸï¼Œä»…ä¾é åº”ç”¨ç¨‹åºçš„é€»è¾‘æ¥ä¿è¯ã€‚</p>
<p>ä¸‹é¢æ¥çœ‹ä¸€ä¸ªå¤–é”®çº¦æŸï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å®šä¹‰ä¸€ä¸ªå¤–é”®çº¦æŸ
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">ALTER</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">TABLE</span><span style="color:#bbb"> </span>students<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">ADD</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">CONSTRAINT</span><span style="color:#bbb"> </span>fk_class_id<span style="color:#bbb">      </span><span style="color:#998;font-style:italic">-- å¤–é”®çº¦æŸåç§° fk_class_idï¼Œä»»æ„
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">FOREIGN</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">KEY</span><span style="color:#bbb"> </span>(class_id)<span style="color:#bbb">          </span><span style="color:#998;font-style:italic">-- æŒ‡å®šäº† class_id ä½œä¸ºå¤–é”®
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">REFERENCES</span><span style="color:#bbb"> </span>classes<span style="color:#bbb"> </span>(id);<span style="color:#bbb">        </span><span style="color:#998;font-style:italic">-- æŒ‡å®šäº†è¿™ä¸ªå…³é”®å°†å…³è”åˆ° classes è¡¨çš„ id åˆ—
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">-- åˆ é™¤ä¸€ä¸ªå¤–é”®çº¦æŸ
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>ALERT<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">TABLE</span><span style="color:#bbb"> </span>students<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">DROP</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FOREIGN</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">KEY</span><span style="color:#bbb"> </span>fk_class_id;<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>3. ç´¢å¼•</strong></p>
<p>åœ¨æŸ¥æ‰¾è®°å½•çš„æ—¶å€™ï¼Œæƒ³è¦è·å¾—éå¸¸å¿«çš„é€Ÿåº¦ï¼Œå°±éœ€è¦ä½¿ç”¨ç´¢å¼•ã€‚ç´¢å¼•æ˜¯å…³ç³»æ•°æ®åº“ä¸­å¯¹æŸä¸€åˆ—æˆ–å¤šä¸ªåˆ—çš„å€¼è¿›è¡Œé¢„æ’åºçš„æ•°æ®ç»“æ„ã€‚é€šè¿‡ä½¿ç”¨ç´¢å¼•ï¼Œå¯ä»¥è®©æ•°æ®åº“ç³»ç»Ÿä¸å¿…æ‰«ææ•´ä¸ªè¡¨ï¼Œè€Œæ˜¯ç›´æ¥å®šä½åˆ°ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œè¿™æ ·å°±å¤§å¤§åŠ å¿«äº†æŸ¥è¯¢é€Ÿåº¦ã€‚æ— è®ºæ˜¯å¦åˆ›å»ºç´¢å¼•ï¼Œå¯¹äºç”¨æˆ·å’Œåº”ç”¨ç¨‹åºæ¥è¯´ï¼Œä½¿ç”¨å…³ç³»æ•°æ®åº“ä¸ä¼šæœ‰ä»»ä½•åŒºåˆ«ã€‚</p>
<h3 id="æŸ¥è¯¢æ•°æ®">æŸ¥è¯¢æ•°æ®</h3>
<p>åœ¨å…³ç³»æ•°æ®åº“ä¸­ï¼Œæœ€å¸¸ç”¨çš„æ“ä½œå°±æ˜¯æŸ¥è¯¢ã€‚</p>
<p><strong>1. åŸºæœ¬æŸ¥è¯¢</strong></p>
<p>ä½¿ç”¨ SELECT æŸ¥è¯¢çš„åŸºæœ¬è¯­å¥Â <code>SELECT * FROM &lt;è¡¨å&gt;</code>Â å¯ä»¥æŸ¥è¯¢ä¸€ä¸ªè¡¨çš„æ‰€æœ‰è¡Œå’Œæ‰€æœ‰åˆ—çš„æ•°æ®ï¼ŒæŸ¥è¯¢ç»“æœæ˜¯ä¸€ä¸ªäºŒç»´è¡¨ã€‚</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- è¯­æ³•ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- SELECT * FROM &lt;è¡¨å&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å¦‚
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">*</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students;<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">-- æ‰€æœ‰çš„å­¦ç”Ÿè®°å½•
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>2. æ¡ä»¶æŸ¥è¯¢</strong></p>
<p>SELECT è¯­å¥å¯ä»¥é€šè¿‡Â <code>WHERE</code>Â æ¡ä»¶æ¥è®¾å®šæŸ¥è¯¢æ¡ä»¶ï¼ŒæŸ¥è¯¢ç»“æœæ˜¯æ»¡è¶³æŸ¥è¯¢æ¡ä»¶çš„è®°å½•ï¼Œè€Œä¸æ˜¯æ•´ä¸ªè¡¨çš„æ‰€æœ‰è®°å½•ã€‚</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- è¯­æ³•ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- SELECT * FROM &lt;è¡¨å&gt; WHERE &lt;æ¡ä»¶è¡¨è¾¾å¼&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å¦‚
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">*</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">WHERE</span><span style="color:#bbb"> </span>score<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>::<span style="color:#bbb"> </span><span style="color:#099">80</span>;<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">-- åˆ†æ•°å¤§äº 80 çš„å­¦ç”Ÿè®°å½•
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æ¡ä»¶è¡¨è¾¾å¼å¯ä»¥åŒ…å«é€»è¾‘è¿ç®—ï¼Œä¼˜å…ˆçº§ç”±é«˜åˆ°ä½ä¸ºÂ <code>NOT &gt; AND &gt; OR</code>Â ï¼Œå½“ç„¶è¿˜æœ‰æ‹¬å·ã€‚</p>
<blockquote>
<p>:: æ­¤å¤„å¯ä»¥ç”¨è°éŸ³è®°å¿†ï¼Œ notï¼ˆNOTï¼‰ at(AND) all(OR) - ä¸€ç‚¹ä¹Ÿä¸ï¼Œåˆ«å®¢æ°”ã€‚</p>
</blockquote>
<p><strong>3. æŠ•å½±æŸ¥è¯¢</strong></p>
<p>å¦‚æœæˆ‘ä»¬åªå¸Œæœ›è¿”å›æŸäº›åˆ—çš„æ•°æ®ï¼Œè€Œä¸æ˜¯æ‰€æœ‰åˆ—çš„æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨æŠ•å½±æŸ¥è¯¢ã€‚</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- è¯­æ³•ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- SELECT åˆ—1 [åˆ«å1], åˆ—2, åˆ—3 FROM &lt;è¡¨å&gt; [...]
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å¦‚
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>id,<span style="color:#bbb"> </span>score,<span style="color:#bbb"> </span>name<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students;<span style="color:#bbb">        </span><span style="color:#998;font-style:italic">-- æ²¡è®¾ç½®åˆ«å
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>id,<span style="color:#bbb"> </span>score<span style="color:#bbb"> </span>points,<span style="color:#bbb"> </span>name<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students;<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">-- è®¾ç½®åˆ«å
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>id,<span style="color:#bbb"> </span>score<span style="color:#bbb"> </span>points,<span style="color:#bbb"> </span>name<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">WHERE</span><span style="color:#bbb"> </span>gender<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#d14">&#39;M&#39;</span>;<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">-- å¯æ¥ WHEREæ¡ä»¶
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>4. æ’åº</strong></p>
<p>ä½¿ç”¨Â <code>ORDER BY</code>Â å¯ä»¥å¯¹ç»“æœé›†è¿›è¡Œæ’åºï¼Œå¯ä»¥å¯¹å¤šåˆ—è¿›è¡Œå‡åºã€å€’åºæ’åºã€‚</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>id,<span style="color:#bbb"> </span>name,<span style="color:#bbb"> </span>gender,<span style="color:#bbb"> </span>score<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">ORDER</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">BY</span><span style="color:#bbb"> </span>score;<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">-- é»˜è®¤ ASC å‡åºï¼Œå¯ä»¥çœç•¥
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>id,<span style="color:#bbb"> </span>name,<span style="color:#bbb"> </span>gender,<span style="color:#bbb"> </span>score<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">ORDER</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">BY</span><span style="color:#bbb"> </span>score<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">DESC</span>;<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">-- é™åº
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å¤šåˆ—ï¼Œå…ˆæŒ‰ score ï¼Œæœ‰ç›¸åŒåˆ†æ•°çš„å†æŒ‰ gender
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>id,<span style="color:#bbb"> </span>name,<span style="color:#bbb"> </span>gender,<span style="color:#bbb"> </span>score<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">ORDER</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">BY</span><span style="color:#bbb"> </span>score<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">DESC</span>,<span style="color:#bbb"> </span>gender;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">-- å¦‚æœæœ‰ WHERE å­å¥ï¼Œé‚£ä¹ˆ ORDER BY å­å¥è¦æ”¾åˆ° WHERE å­å¥åé¢ï¼ˆå› ä¸ºæ˜¯å¯¹ç»“æœé›†æ’åºå˜›ï¼‰
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>id,<span style="color:#bbb"> </span>name,<span style="color:#bbb"> </span>gender,<span style="color:#bbb"> </span>score<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">WHERE</span><span style="color:#bbb"> </span>class_id<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#099">1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">ORDER</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">BY</span><span style="color:#bbb"> </span>score<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">DESC</span>;<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>5. åˆ†é¡µæŸ¥è¯¢</strong></p>
<p>åˆ†é¡µå®é™…ä¸Šå°±æ˜¯ä»ç»“æœé›†ä¸­â€œæˆªå–â€å‡ºç¬¬ M~N æ¡è®°å½•ã€‚</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- è¯­æ³•ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- LIMIT &lt;N-M&gt; OFFSET &lt;M&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å¦‚
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">*</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">LIMIT</span><span style="color:#bbb"> </span><span style="color:#099">3</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">OFFSET</span><span style="color:#bbb"> </span><span style="color:#099">0</span>;<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">-- æŸ¥è¯¢ç¬¬ 1 é¡µ
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">*</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">LIMIT</span><span style="color:#bbb"> </span><span style="color:#099">3</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">OFFSET</span><span style="color:#bbb"> </span><span style="color:#099">3</span>;<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">-- æŸ¥è¯¢ç¬¬ 2 é¡µ
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">*</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">LIMIT</span><span style="color:#bbb"> </span><span style="color:#099">3</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">OFFSET</span><span style="color:#bbb"> </span><span style="color:#099">6</span>;<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">-- æŸ¥è¯¢ç¬¬ 3 é¡µ
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- ...
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>å¯è§ï¼Œåˆ†é¡µæŸ¥è¯¢çš„å…³é”®åœ¨äºï¼Œé¦–å…ˆè¦ç¡®å®šæ¯é¡µéœ€è¦æ˜¾ç¤ºçš„ç»“æœæ•°é‡Â <code>pageSize</code>Â ï¼ˆè¿™é‡Œä¸º 3ï¼‰ï¼Œç„¶åæ ¹æ®å½“å‰é¡µçš„ç´¢å¼•Â <code>pageIndex</code>Â ï¼ˆä» 1 å¼€å§‹ï¼Œé¡µç å•¦ï¼‰ï¼Œç¡®å®šÂ <code>LIMIT</code>Â å’ŒÂ <code>OFFSET</code>Â åº”è¯¥è®¾å®šçš„å€¼ï¼š</p>
<ul>
<li><code>LIMIT</code>Â æ€»æ˜¯è®¾å®šä¸ºÂ <code>pageSize</code>Â ï¼›</li>
<li><code>OFFSET</code>Â è®¡ç®—å…¬å¼ä¸ºÂ <code>pageSize * (pageIndex - 1)</code>Â ã€‚</li>
</ul>
<p>å¦å¤–ï¼š</p>
<ul>
<li><code>OFFSET</code>Â æ˜¯å¯é€‰çš„ï¼Œå¦‚æœåªå†™Â <code>LIMIT 15</code>Â ï¼Œé‚£ä¹ˆç›¸å½“äºÂ <code>LIMIT 15 OFFSET 0</code>Â ï¼›</li>
<li>åœ¨ MySQL ä¸­ï¼ŒÂ <code>LIMIT 15 OFFSET 30</code>Â è¿˜å¯ä»¥ç®€å†™æˆÂ <code>LIMIT 30, 15</code>Â ï¼›</li>
<li>ä½¿ç”¨Â <code>LIMIT &lt;M&gt; OFFSET &lt;N&gt;</code>Â åˆ†é¡µæ—¶ï¼Œéšç€ N è¶Šæ¥è¶Šå¤§ï¼ŒæŸ¥è¯¢æ•ˆç‡ä¹Ÿä¼šè¶Šæ¥è¶Šä½ã€‚</li>
</ul>
<p><strong>6. èšåˆæŸ¥è¯¢</strong></p>
<p>å¯¹äºç»Ÿè®¡æ€»æ•°ã€å¹³å‡æ•°è¿™ç±»è®¡ç®—ï¼ŒSQL æä¾›äº†ä¸“é—¨çš„èšåˆå‡½æ•°ï¼Œä½¿ç”¨èšåˆå‡½æ•°è¿›è¡ŒæŸ¥è¯¢ï¼Œå°±æ˜¯èšåˆæŸ¥è¯¢ã€‚</p>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>COUNT</td>
<td>æŸ¥è¯¢æ‰€æœ‰åˆ—çš„è¡Œæ•°</td>
</tr>
<tr>
<td>SUM/AVG</td>
<td>è®¡ç®—æŸä¸€æ•°å€¼ç±»å‹åˆ—çš„åˆè®¡å€¼/å¹³å‡å€¼</td>
</tr>
<tr>
<td>MAX/MIN</td>
<td>è®¡ç®—æŸä¸€åˆ—çš„æœ€å¤§å€¼/æœ€å°å€¼</td>
</tr>
</tbody>
</table>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">COUNT</span>(<span style="color:#000;font-weight:bold">*</span>)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">AVG</span>(score)<span style="color:#bbb"> </span>average<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">WHERE</span><span style="color:#bbb"> </span>gender<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#d14">&#39;M&#39;</span>;<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼š</p>
<ul>
<li>å¦‚æœ WHERE æ¡ä»¶æ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•è¡Œï¼ŒÂ <code>COUNT()</code>Â ä¼šè¿”å› 0 ï¼Œè€Œå…¶ä»–ä¼šè¿”å›Â <code>NULL</code>Â ï¼›</li>
<li>èšåˆçš„è®¡ç®—ç»“æœè™½ç„¶æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä½†æŸ¥è¯¢çš„ç»“æœä»ç„¶æ˜¯ä¸€ä¸ªäºŒç»´è¡¨ï¼Œåªæ˜¯è¿™ä¸ªäºŒç»´è¡¨åªæœ‰ä¸€è¡Œä¸€åˆ—ï¼›</li>
<li>é€šå¸¸ï¼Œä½¿ç”¨èšåˆæŸ¥è¯¢æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥ç»™åˆ—åè®¾ç½®ä¸€ä¸ªåˆ«åï¼Œä¾¿äºå¤„ç†ç»“æœã€‚</li>
</ul>
<p><strong>å¯¹äºèšåˆæŸ¥è¯¢ï¼ŒSQL è¿˜æä¾›äº†â€œåˆ†ç»„èšåˆâ€çš„åŠŸèƒ½ã€‚</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>class_id,<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">COUNT</span>(<span style="color:#000;font-weight:bold">*</span>)<span style="color:#bbb"> </span>num<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">GROUP</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">BY</span><span style="color:#bbb"> </span>class_id;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">-- COUNT() çš„ç»“æœä¸å†æ˜¯ä¸€ä¸ªï¼Œå› ä¸º GROUP BY å­å¥æŒ‡å®šäº†æŒ‰ class_id åˆ†ç»„
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œä¸Šè¿°Â <code>SELECT</code>Â è¯­å¥æ—¶ï¼Œä¼šæŠŠÂ <code>class_id</code>Â ç›¸åŒçš„åˆ—å…ˆåˆ†ç»„ï¼Œå†åˆ†åˆ«è®¡ç®—ï¼Œå› äº›ä¼šå¾—åˆ°ä¸æ­¢ä¸€è¡Œç»“æœï¼ˆå½“ç„¶ï¼Œæˆ‘ä»¬æ­¤å¤„å‡è®¾Â <code>class_id</code>Â æœ‰å‡ ä¸ªä¸åŒçš„å€¼ï¼‰ã€‚</p>
<p><strong>7. å¤šè¡¨æŸ¥è¯¢</strong></p>
<p>ä½¿ç”¨å¤šè¡¨æŸ¥è¯¢å¯ä»¥è·å– M x N è¡Œè®°å½•ï¼ŒæŸ¥è¯¢çš„ç»“æœä¹Ÿæ˜¯ä¸€ä¸ªäºŒç»´è¡¨ã€‚</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- è¯­æ³•ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- SELECT * FROM &lt;è¡¨1&gt; [è¡¨1åˆ«å], &lt;è¡¨2&gt; [è¡¨2åˆ«å];
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å¦‚
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">*</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students,<span style="color:#bbb"> </span>classes;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">-- å¯ä»¥åˆ©ç”¨æŠ•å½±æŸ¥è¯¢è®¾ç½®åˆ«å
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>students.id<span style="color:#bbb"> </span>sid,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>students.name,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>students.gender,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>students.score,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>classes.id<span style="color:#bbb"> </span>cid,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>classes.name<span style="color:#bbb"> </span>cname<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students,<span style="color:#bbb"> </span>classes;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">-- SQLè¿˜å…è®¸ç»™è¡¨è®¾ç½®ä¸€ä¸ªåˆ«åï¼Œä»¥åœ¨æŠ•å½±æŸ¥è¯¢ä¸­å¼•ç”¨èµ·æ¥ç¨å¾®ç®€æ´ä¸€ç‚¹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>s.id<span style="color:#bbb"> </span>sid,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>s.name,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>s.gender,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>s.score,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span><span style="color:#000;font-weight:bold">c</span>.id<span style="color:#bbb"> </span>cid,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span><span style="color:#000;font-weight:bold">c</span>.name<span style="color:#bbb"> </span>cname<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span>s,<span style="color:#bbb"> </span>classes<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">c</span>;<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>8. è¿æ¥æŸ¥è¯¢</strong></p>
<p>è¿æ¥æŸ¥è¯¢æ˜¯å¦ä¸€ç§ç±»å‹çš„å¤šè¡¨æŸ¥è¯¢ï¼Œå¯¹å¤šä¸ªè¡¨è¿›è¡Œ JOIN è¿ç®—ï¼Œç®€å•åœ°è¯´ï¼Œå°±æ˜¯å…ˆç¡®å®šä¸€ä¸ªä¸»è¡¨ä½œä¸ºç»“æœé›†ï¼Œç„¶åï¼ŒæŠŠå…¶ä»–è¡¨çš„è¡Œæœ‰é€‰æ‹©åœ°â€œè¿æ¥â€åœ¨ä¸»è¡¨ç»“æœé›†ä¸Šã€‚</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- è¯­æ³•ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- SELECT ... FROM &lt;è¡¨1&gt; INNER JOIN &lt;è¡¨2&gt; ON &lt;æ¡ä»¶...&gt;;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å¦‚
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">SELECT</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>s.id,<span style="color:#bbb"> </span>s.name,<span style="color:#bbb"> </span>s.class_id,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span><span style="color:#000;font-weight:bold">c</span>.name<span style="color:#bbb"> </span>class_name,<span style="color:#bbb">          </span><span style="color:#998;font-style:italic">--
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#bbb">	</span>s.gender,<span style="color:#bbb"> </span>s.score<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span>s<span style="color:#bbb">                 </span><span style="color:#998;font-style:italic">-- å…ˆç¡®å®šä¸»è¡¨ï¼Œä»ç„¶ä½¿ç”¨ FROM &lt;è¡¨1&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">INNER</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">JOIN</span><span style="color:#bbb"> </span>classes<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">c</span><span style="color:#bbb">            </span><span style="color:#998;font-style:italic">-- å†ç¡®å®šéœ€è¦è¿æ¥çš„è¡¨ï¼Œä½¿ç”¨ INNER JOIN &lt;è¡¨2&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">ON</span><span style="color:#bbb"> </span>s.class_id<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">c</span>.id;<span style="color:#bbb">           </span><span style="color:#998;font-style:italic">-- ç„¶åç¡®å®šè¿æ¥æ¡ä»¶ï¼Œä½¿ç”¨ ON &lt;æ¡ä»¶â€¦â€¦&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å¯é€‰ï¼ŒåŠ ä¸Š WHERE å­å¥ã€ ORDER BY ç­‰å­å¥
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>INNER JOIN æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§ JOIN æŸ¥è¯¢ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰ LEFT/RIGHT/FULL OUTER JOIN ã€‚</p>
<h3 id="ä¿®æ”¹æ•°æ®">ä¿®æ”¹æ•°æ®</h3>
<p>å…³ç³»æ•°æ®åº“çš„åŸºæœ¬æ“ä½œå°±æ˜¯ CRUDï¼ˆCreate å¢ã€Retrieve æŸ¥ã€Update æ”¹ã€Delete åˆ ï¼‰ã€‚å¯¹äºå¢ã€åˆ ã€æ”¹ï¼Œå¯¹åº”çš„ SQL è¯­å¥åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li>INSERT æ’å…¥æ–°è®°å½•ï¼›</li>
<li>UPDATE æ›´æ–°å·²æœ‰è®°å½•ï¼›</li>
<li>DELETE åˆ é™¤å·²æœ‰è®°å½•ã€‚</li>
</ul>
<p><strong>1. INSERT</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- è¯­æ³•ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- INSERT INTO &lt;è¡¨å&gt; (å­—æ®µ1, å­—æ®µ2, ...) VALUES (å€¼1, å€¼2, ...)
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å¦‚
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">INSERT</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">INTO</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span>(class_id,<span style="color:#bbb"> </span>name,<span style="color:#bbb"> </span>gender,<span style="color:#bbb"> </span>score)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">VALUES</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>(<span style="color:#099">1</span>,<span style="color:#bbb"> </span><span style="color:#d14">&#39;å¤§å®&#39;</span>,<span style="color:#bbb"> </span><span style="color:#d14">&#39;M&#39;</span>,<span style="color:#bbb"> </span><span style="color:#099">87</span>),<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">	</span>(<span style="color:#099">2</span>,<span style="color:#bbb"> </span><span style="color:#d14">&#39;äºŒå®&#39;</span>,<span style="color:#bbb"> </span><span style="color:#d14">&#39;M&#39;</span>,<span style="color:#bbb"> </span><span style="color:#099">81</span>);<span style="color:#bbb">       </span><span style="color:#998;font-style:italic">-- å¯ä»¥ä¸€æ¬¡æ€§æ·»åŠ å¤šæ¡è®°å½•
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æ³¨æ„ï¼Œå­—æ®µé¡ºåºä¸å¿…å’Œæ•°æ®åº“è¡¨çš„å­—æ®µé¡ºåºä¸€è‡´ï¼Œä½†å€¼çš„é¡ºåºå¿…é¡»å’Œå­—æ®µé¡ºåºä¸€è‡´ã€‚</p>
<p><strong>2. UPDATE</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- è¯­æ³•ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- UPDATE &lt;è¡¨å&gt; SET å­—æ®µ1=å€¼1, å­—æ®µ2=å€¼2, ... WHERE ...;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å¦‚
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">UPDATE</span><span style="color:#bbb"> </span>students<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">SET</span><span style="color:#bbb"> </span>name<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;å¤§ç‰›&#39;</span>,<span style="color:#bbb"> </span>score<span style="color:#000;font-weight:bold">=</span>score<span style="color:#000;font-weight:bold">+</span><span style="color:#099">10</span><span style="color:#bbb"> </span><span style="color:#998;font-style:italic">-- å¯ä»¥ä¸€æ¬¡æ€§æ›´æ–°å¤šæ¡è®°å½•ï¼Œä¸”å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">WHERE</span><span style="color:#bbb"> </span>id<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>3. DELETE</strong></p>
<p>ä½¿ç”¨Â <code>DELETE</code>Â ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸€æ¬¡åˆ é™¤è¡¨ä¸­çš„ä¸€æ¡æˆ–å¤šæ¡è®°å½•ã€‚</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- è¯­æ³•ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- DELETE FROM &lt;è¡¨å&gt; WHERE ...;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- å¦‚
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">DELETE</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">where</span><span style="color:#bbb"> </span>id<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="mysql">MySQL</h3>
<p>å®‰è£…å®Œ MySQL åï¼Œé™¤äº† MySQL Serverï¼Œå³çœŸæ­£çš„ MySQL æœåŠ¡å™¨å¤–ï¼Œè¿˜é™„èµ ä¸€ä¸ª MySQL Client ç¨‹åºã€‚MySQL Client æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œå¯ä»¥é€šè¿‡ MySQL Client ç™»å½• MySQLï¼Œç„¶åï¼Œè¾“å…¥ SQL è¯­å¥å¹¶æ‰§è¡Œã€‚</p>
<p>MySQL Client çš„å¯æ‰§è¡Œç¨‹åºæ˜¯Â <code>mysql</code>Â ï¼ŒMySQL Server çš„å¯æ‰§è¡Œç¨‹åºæ˜¯Â <code>mysqld</code>Â ï¼ˆåå°è¿è¡Œï¼‰ã€‚</p>
<p>![[assets/Pasted image 20230526091940.png]]</p>
<p>åœ¨ MySQL Client ä¸­è¾“å…¥çš„ SQL è¯­å¥é€šè¿‡ TCP è¿æ¥å‘é€åˆ° MySQL Serverã€‚é»˜è®¤ç«¯å£å·æ˜¯ 3306ï¼Œå³å¦‚æœå‘é€åˆ°æœ¬æœº MySQL Serverï¼Œåœ°å€å°±æ˜¯Â <code>127.0.0.1:3306</code>Â ã€‚</p>
<p>ä¹Ÿå¯ä»¥åªå®‰è£… MySQL Clientï¼Œç„¶åè¿æ¥åˆ°è¿œç¨‹ MySQL Serverã€‚</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># mysql -h &lt;mysql-server-ip&gt; -u root -p</span>
</span></span><span style="display:flex;"><span>mysql -h 10.0.1.99 -u root -p
</span></span></code></pre></td></tr></table>
</div>
</div><p>é™¤äº†å‘½ä»¤è¡Œå®¢æˆ·ç«¯å¤–ï¼Œä¹Ÿæœ‰ GUI å®¢æˆ·ç«¯å¯ä¾›ä½¿ç”¨ï¼Œå¦‚ MySQL Workbenchã€ Navicat ç­‰ã€‚</p>
<p><strong>1. æ•°æ®åº“</strong></p>
<p>åœ¨ä¸€ä¸ªè¿è¡Œçš„ MySQL æœåŠ¡å™¨ä¸Šï¼Œå®é™…ä¸Šå¯ä»¥åˆ›å»ºå¤šä¸ªæ•°æ®åº“ï¼ˆDatabaseï¼‰ã€‚ç›¸å…³æ“ä½œå¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>æ“ä½œ</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>SHOW DATABASES;</code></td>
<td>åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“</td>
</tr>
<tr>
<td><code>CREATE DATABASE test;</code></td>
<td>åˆ›å»ºä¸€ä¸ªæ–°æ•°æ®åº“</td>
</tr>
<tr>
<td><code>DROP DATABASE test;</code></td>
<td>åˆ é™¤ä¸€ä¸ªæ•°æ®åº“</td>
</tr>
<tr>
<td><code>USE test;</code></td>
<td>åˆ‡æ¢åˆ°æ•°æ®åº“ test</td>
</tr>
<tr>
<td>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-</td>
<td>â€”â€”â€”â€”â€”â€”â€”â€”</td>
</tr>
<tr>
<td>è¡¨</td>
<td></td>
</tr>
<tr>
<td><code>SHOW TABLES;</code></td>
<td>åˆ—å‡ºå½“å‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨</td>
</tr>
<tr>
<td><code>DESC students;</code></td>
<td>æŸ¥çœ‹ä¸€ä¸ªè¡¨çš„ç»“æ„</td>
</tr>
<tr>
<td><code>SHOW CREATE TABLE students;</code></td>
<td>æŸ¥çœ‹åˆ›å»ºè¡¨çš„ SQL è¯­å¥</td>
</tr>
<tr>
<td><code>DROP TABLE students;</code></td>
<td>åˆ é™¤è¡¨</td>
</tr>
</tbody>
</table>
<p>ä¿®æ”¹è¡¨å°±æ¯”è¾ƒå¤æ‚ã€‚</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- ç»™ students è¡¨æ–°å¢ä¸€åˆ— birth
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>ALERT<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">TABLE</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">ADD</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">COLUMN</span><span style="color:#bbb"> </span>birth<span style="color:#bbb"> </span><span style="color:#0086b3">VARCHAR</span>(<span style="color:#099">10</span>)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">NOT</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">NULL</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">-- ä¿®æ”¹ birth åˆ—åä¸º birthdayï¼Œç±»å‹æ”¹ä¸º VARCHAR(20)
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>ALERT<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">TABLE</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span>CHANGE<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">COLUMN</span><span style="color:#bbb"> </span>birth<span style="color:#bbb"> </span>birthday<span style="color:#bbb"> </span><span style="color:#0086b3">VARCHAR</span>(<span style="color:#099">20</span>)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">NOT</span><span style="color:#bbb">ã€€</span><span style="color:#000;font-weight:bold">NULL</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">-- åˆ é™¤åˆ—
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>ALERT<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">TABLE</span><span style="color:#bbb"> </span>students<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">DROP</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">COLUMN</span><span style="color:#bbb"> </span>birthday;<span style="color:#bbb">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p><strong>TODO 2. å®ç”¨çš„ SQL è¯­å¥</strong></p>
<p>â€¦â€¦</p>
<h3 id="äº‹åŠ¡">äº‹åŠ¡</h3>
<p>è¿™ç§æŠŠå¤šæ¡è¯­å¥ä½œä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œæ“ä½œçš„åŠŸèƒ½ï¼Œè¢«ç§°ä¸ºæ•°æ®åº“äº‹åŠ¡ã€‚æ•°æ®åº“äº‹åŠ¡å¯ä»¥ç¡®ä¿è¯¥äº‹åŠ¡èŒƒå›´å†…çš„æ‰€æœ‰æ“ä½œéƒ½å¯ä»¥å…¨éƒ¨æˆåŠŸæˆ–è€…å…¨éƒ¨å¤±è´¥ã€‚å¦‚æœäº‹åŠ¡å¤±è´¥ï¼Œé‚£ä¹ˆæ•ˆæœå°±å’Œæ²¡æœ‰æ‰§è¡Œè¿™äº› SQL ä¸€æ ·ï¼Œä¸ä¼šå¯¹æ•°æ®åº“æ•°æ®æœ‰ä»»ä½•æ”¹åŠ¨ã€‚</p>
<p>å¯¹äºå•æ¡ SQL è¯­å¥ï¼Œæ•°æ®åº“ç³»ç»Ÿè‡ªåŠ¨å°†å…¶ä½œä¸ºä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œï¼Œè¿™ç§äº‹åŠ¡è¢«ç§°ä¸ºéšå¼äº‹åŠ¡ã€‚</p>
<p>è¦æ‰‹åŠ¨æŠŠå¤šæ¡ SQL è¯­å¥ä½œä¸ºä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œï¼Œä½¿ç”¨Â <code>BEGIN</code>Â å¼€å¯ä¸€ä¸ªäº‹åŠ¡ï¼Œä½¿ç”¨Â <code>COMMIT</code>Â æäº¤ä¸€ä¸ªäº‹åŠ¡ï¼Œè¿™ç§äº‹åŠ¡è¢«ç§°ä¸ºæ˜¾å¼äº‹åŠ¡ã€‚å¦‚ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">BEGIN</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">UPDATE</span><span style="color:#bbb"> </span>accounts<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">SET</span><span style="color:#bbb"> </span>balance<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>balance<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span><span style="color:#099">100</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">WHERE</span><span style="color:#bbb"> </span>id<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#099">1</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">UPDATE</span><span style="color:#bbb"> </span>accounts<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">SET</span><span style="color:#bbb"> </span>balance<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>balance<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span><span style="color:#099">100</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">WHERE</span><span style="color:#bbb"> </span>id<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#099">2</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">COMMIT</span>;<span style="color:#bbb">                         </span><span style="color:#998;font-style:italic">-- è¯•å›¾æŠŠäº‹åŠ¡å†…çš„æ‰€æœ‰SQLæ‰€åšçš„ä¿®æ”¹æ°¸ä¹…ä¿å­˜
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">-- ROLLBACK;                    -- å¯ä»¥ä¸»åŠ¨ç”¨ ROLLBACK å›æ»šäº‹åŠ¡
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>æ•°æ®åº“äº‹åŠ¡å…·æœ‰ ACID å…± 4 ä¸ªç‰¹æ€§ï¼š</p>
<ul>
<li>Atomic åŸå­æ€§ï¼ˆè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œï¼‰ã€</li>
<li>Consistent ä¸€è‡´æ€§ï¼ˆäº‹åŠ¡å®Œæˆåï¼Œæ‰€æœ‰æ•°æ®çš„çŠ¶æ€éƒ½æ˜¯ä¸€è‡´çš„ï¼‰ã€</li>
<li>Isolation éš”ç¦»æ€§ï¼ˆå¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œï¼Œæ¯ä¸ªäº‹åŠ¡ä½œå‡ºçš„ä¿®æ”¹å¿…é¡»ä¸å…¶ä»–äº‹åŠ¡éš”ç¦»ï¼‰ã€</li>
<li>Duration æŒä¹…æ€§ï¼ˆå³äº‹åŠ¡å®Œæˆåï¼Œå¯¹æ•°æ®åº“çš„ä¿®æ”¹è¢«æŒä¹…åŒ–å­˜å‚¨ï¼‰ã€‚</li>
</ul>
<p>å¯¹äºä¸¤ä¸ªå¹¶å‘æ‰§è¡Œçš„äº‹åŠ¡ï¼Œå¦‚æœæ¶‰åŠåˆ°æ“ä½œåŒä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‘ç”Ÿé—®é¢˜ã€‚SQL æ ‡å‡†å®šä¹‰äº† 4 ç§éš”ç¦»çº§åˆ«ï¼š</p>
<table>
<thead>
<tr>
<th>Isolation Level</th>
<th>è„è¯»ï¼ˆDirty Readï¼‰</th>
<th>ä¸å¯é‡å¤è¯»ï¼ˆNon Repeatable Readï¼‰</th>
<th>å¹»è¯»ï¼ˆPhantom Readï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td>Read Uncommitted</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Read Committed</td>
<td>-</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Repeatable Read</td>
<td>-</td>
<td>-</td>
<td>Yes</td>
</tr>
<tr>
<td>Serializable</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<h2 id="jdbc">JDBC</h2>
<p><a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1255943820274272">2</a></p>
<h3 id="jdbc-æ˜¯ä»€ä¹ˆ">JDBC æ˜¯ä»€ä¹ˆ</h3>
<p>JDBCï¼ˆJava DataBase Connectivityï¼‰ï¼Œæ˜¯ Java ç¨‹åºè®¿é—®æ•°æ®åº“çš„æ ‡å‡†æ¥å£ã€‚</p>
<p>ä½¿ç”¨ Java ç¨‹åºè®¿é—®æ•°æ®åº“æ—¶ï¼ŒJava ä»£ç å¹¶ä¸æ˜¯ç›´æ¥é€šè¿‡ TCP è¿æ¥å»è®¿é—®æ•°æ®åº“ï¼Œè€Œæ˜¯é€šè¿‡ JDBC æ¥å£ï¼ˆJava æ ‡å‡†åº“è‡ªå¸¦ï¼‰æ¥è®¿é—®ï¼Œè€Œ JDBC æ¥å£åˆ™é€šè¿‡ JDBC é©±åŠ¨ï¼ˆæ•°æ®åº“å‚å•†æä¾›ï¼Œé‡Œé¢æ˜¯æ¥å£çš„å…·ä½“å®ç°ç±»ï¼‰æ¥å®ç°çœŸæ­£å¯¹æ•°æ®åº“çš„è®¿é—®ã€‚å¦‚ä¸‹ï¼š</p>
<p>![[assets/Pasted image 20230526092033.png|275]]</p>
<p>å®é™…ä¸Šï¼Œä¸€ä¸ª MySQL çš„é©±åŠ¨å°±æ˜¯ä¸€ä¸ª jar åŒ…ï¼Œå®ƒæœ¬èº«ä¹Ÿæ˜¯çº¯ Java ç¼–å†™çš„ã€‚æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„ä»£ç åªéœ€è¦å¼•ç”¨ Java æ ‡å‡†åº“æä¾›çš„ java.sql åŒ…ä¸‹é¢çš„ç›¸å…³æ¥å£ï¼Œç”±æ­¤å†é—´æ¥åœ°é€šè¿‡ MySQL é©±åŠ¨çš„ jar åŒ…é€šè¿‡ç½‘ç»œè®¿é—® MySQL æœåŠ¡å™¨ï¼Œæ‰€æœ‰å¤æ‚çš„ç½‘ç»œé€šè®¯éƒ½è¢«å°è£…åˆ° JDBC é©±åŠ¨ä¸­ï¼Œå› æ­¤ï¼ŒJava ç¨‹åºæœ¬èº«åªéœ€è¦å¼•å…¥ä¸€ä¸ª MySQL é©±åŠ¨çš„ jar åŒ…å°±å¯ä»¥æ­£å¸¸è®¿é—® MySQL æœåŠ¡å™¨ï¼Œå¦‚ä¸‹ï¼š</p>
<p>![[assets/Pasted image 20230526092049.png|400]]</p>
<p>*æ³¨æ„ï¼šJava ç¨‹åºç¼–è¯‘æœŸä»…ä¾èµ– java.sql åŒ…ï¼Œä¸ä¾èµ–å…·ä½“æ•°æ®åº“çš„ jar åŒ…ï¼Œå¯éšæ—¶æ›¿æ¢åº•å±‚æ•°æ®åº“ï¼Œè®¿é—®æ•°æ®åº“ç®¡ç†å‘˜çš„ Java ä»£ç åŸºæœ¬ä¸å˜ã€‚</p>
<p>å‰é¢å·²ç»è¯´è¿‡ï¼Œæ‰€è°“çš„ JDBC é©±åŠ¨ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„ jar åŒ…ï¼Œæˆ‘ä»¬å¯èƒ½é€šè¿‡æ·»åŠ ä¸€ä¸ª Maven ä¾èµ–å¼•å…¥å®ƒï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&lt;groupId&gt;</span>mysql<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&lt;artifactId&gt;</span>mysql-connector-java<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&lt;version&gt;</span>5.1.47<span style="color:#000080">&lt;/version&gt;</span>   <span style="color:#998;font-style:italic">&lt;!-- ä¸å®‰è£…çš„ MySQL ç‰ˆæœ¬å¯¹åº” --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&lt;scope&gt;</span>runtime<span style="color:#000080">&lt;/scope&gt;</span>      <span style="color:#998;font-style:italic">&lt;!-- æ³¨æ„æ˜¯ runtime --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å…¶ä¸­ï¼Œæ·»åŠ ä¾èµ–çš„Â <code>scope</code>Â æ˜¯Â <code>runtime</code>Â ï¼Œå› ä¸ºç¼–è¯‘ Java ç¨‹åºå¹¶ä¸éœ€è¦ MySQL çš„è¿™ä¸ª jar åŒ…ï¼Œåªæœ‰åœ¨è¿è¡ŒæœŸæ‰éœ€è¦ä½¿ç”¨ã€‚å¦‚æœæ”¹ä¸ºÂ <code>compile</code>Â ï¼Œè™½ç„¶ä¹Ÿèƒ½æ­£å¸¸ç¼–è¯‘ï¼Œä½†æ˜¯åœ¨ IDE é‡Œå†™ç¨‹åºçš„æ—¶å€™ï¼Œä¼šå¤šå‡ºä¸€å¤§å †ç±»ä¼¼Â <code>com.mysql.jdbc.Connection</code>Â è¿™æ ·çš„ç±»ï¼Œéå¸¸å®¹æ˜“ä¸ Java æ ‡å‡†åº“çš„ JDBC æ¥å£æ··æ·†ï¼Œæ‰€ä»¥åšå†³ä¸è¦è®¾ç½®ä¸ºÂ <code>compile</code>Â ã€‚</p>
<h3 id="jdbc-è¿æ¥">JDBC è¿æ¥</h3>
<p>Connection ä»£è¡¨ä¸€ä¸ª JDBC è¿æ¥ï¼Œå®ƒç›¸å½“äº Java ç¨‹åºåˆ°æ•°æ®åº“çš„è¿æ¥ï¼ˆé€šå¸¸æ˜¯ TCP è¿æ¥ï¼‰ã€‚æ‰“å¼€ä¸€ä¸ª Connection æ—¶ï¼Œéœ€è¦å‡†å¤‡ URLã€ç”¨æˆ·åå’Œå£ä»¤ï¼Œæ‰èƒ½æˆåŠŸè¿æ¥åˆ°æ•°æ®åº“ã€‚</p>
<p>URL æ˜¯ç”±æ•°æ®åº“å‚å•†æŒ‡å®šçš„æ ¼å¼ï¼Œä¾‹å¦‚ï¼ŒMySQL çš„ URL æ˜¯ï¼š</p>
<pre tabindex="0"><code>jdbc:mysql://&lt;hostname&gt;:&lt;port&gt;/&lt;db&gt;?key1=value1&amp;key2=value2
</code></pre><p>å‡è®¾æ•°æ®åº“è¿è¡Œåœ¨æœ¬æœºÂ <code>localhost</code>Â ï¼Œç«¯å£ä½¿ç”¨æ ‡å‡†çš„Â <code>3306</code>Â ï¼Œæ•°æ®åº“åç§°æ˜¯Â <code>learnjdbc</code>Â ï¼Œé‚£ä¹ˆ URL å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>jdbc:mysql://localhost:3306/learnjdbc?useSSL=false&amp;characterEncoding=utf8
</code></pre><p>å…¶ä¸­ï¼Œåé¢çš„ä¸¤ä¸ªå‚æ•°è¡¨ç¤ºä¸ä½¿ç”¨ SSL åŠ å¯†ï¼Œä½¿ç”¨ UTF-8 ä½œä¸ºå­—ç¬¦ç¼–ç ã€‚</p>
<p>è¦è·å–æ•°æ®åº“è¿æ¥ï¼Œä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// JDBC è¿æ¥çš„ URL, ä¸åŒæ•°æ®åº“æœ‰ä¸åŒçš„æ ¼å¼:
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>String JDBC_URL <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;jdbc:mysql://localhost:3306/test&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>String JDBC_USER <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;root&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>String JDBC_PASSWORD <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;password&#34;</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// è·å–è¿æ¥:
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>Connection conn <span style="color:#000;font-weight:bold">=</span> DriverManager<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">(</span>JDBC_URL<span style="color:#000;font-weight:bold">,</span> JDBC_USER<span style="color:#000;font-weight:bold">,</span> JDBC_PASSWORD<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// TODO: è®¿é—®æ•°æ®åº“...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// å…³é—­è¿æ¥:
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">close</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ ¸å¿ƒä»£ç æ˜¯Â <code>DriverManager</code>Â æä¾›çš„é™æ€æ–¹æ³•Â <code>getConnection()</code>Â ï¼ŒÂ <code>DriverManager</code>Â ä¼šè‡ªåŠ¨æ‰«æ classpathï¼Œæ‰¾åˆ°æ‰€æœ‰çš„ JDBC é©±åŠ¨ï¼Œç„¶åæ ¹æ®æˆ‘ä»¬ä¼ å…¥çš„ URL è‡ªåŠ¨æŒ‘é€‰ä¸€ä¸ªåˆé€‚çš„é©±åŠ¨ã€‚</p>
<p>å› ä¸º JDBC è¿æ¥æ˜¯ä¸€ç§æ˜‚è´µçš„èµ„æºï¼Œæ‰€ä»¥ä½¿ç”¨åè¦åŠæ—¶é‡Šæ”¾ã€‚ä½¿ç”¨Â <code>try (resource)</code>Â æ¥è‡ªåŠ¨é‡Šæ”¾ JDBC è¿æ¥æ˜¯ä¸€ä¸ªå¥½æ–¹æ³•ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>Connection conn <span style="color:#000;font-weight:bold">=</span> DriverManager<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">(</span>JDBC_URL<span style="color:#000;font-weight:bold">,</span> JDBC_USER<span style="color:#000;font-weight:bold">,</span> JDBC_PASSWORD<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="jdbc-æŸ¥è¯¢">JDBC æŸ¥è¯¢</h3>
<p>è·å–åˆ° JDBC è¿æ¥åï¼Œä¸‹ä¸€æ­¥å°±å¯ä»¥æŸ¥è¯¢æ•°æ®åº“äº†ã€‚æŸ¥è¯¢æ•°æ®åº“åˆ†ä»¥ä¸‹å‡ æ­¥ï¼š</p>
<ol>
<li>é€šè¿‡Â <code>Connection</code>Â æä¾›çš„Â <code>createStatemetn()</code>Â æ–¹æ³•åˆ›å»ºä¸€ä¸ªÂ <code>Statement</code>Â å¯¹è±¡ï¼Œç”¨äºæ‰§è¡Œä¸€ä¸ªæŸ¥è¯¢ï¼›</li>
<li>æ‰§è¡ŒÂ <code>Statement</code>Â å¯¹è±¡æä¾›çš„Â <code>executeQuery(&quot;SELECT * FROM students&quot;)</code>Â å¹¶ä¼ å…¥ SQL è¯­å¥ï¼Œæ‰§è¡ŒæŸ¥è¯¢è¿”å›çš„ç»“æœé›†ï¼Œä½¿ç”¨Â <code>ResultSet</code>Â æ¥å¼•ç”¨è¿™ä¸ªç»“æœé›†ï¼›</li>
<li>åå¤è°ƒç”¨Â <code>ResultSet</code>Â çš„Â <code>next()</code>Â æ–¹æ³•æ¥è¯»å–æ¯ä¸€è¡Œç»“æœã€‚å¦‚ä¸‹ï¼š</li>
</ol>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>Connection conn <span style="color:#000;font-weight:bold">=</span> DriverManager<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">(</span>JDBC_URL<span style="color:#000;font-weight:bold">,</span> JDBC_USER<span style="color:#000;font-weight:bold">,</span> JDBC_PASSWORD<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>Statement stmt <span style="color:#000;font-weight:bold">=</span> conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">createStatement</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>ResultSet rs <span style="color:#000;font-weight:bold">=</span> stmt<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">executeQuery</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;SELECT id, grade, name, gender FROM students WHERE gender=1&#34;</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span>rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>				<span style="color:#458;font-weight:bold">long</span> id <span style="color:#000;font-weight:bold">=</span> rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLong</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">);</span> <span style="color:#998;font-style:italic">// æ³¨æ„ï¼šç´¢å¼•ä»1å¼€å§‹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>				<span style="color:#458;font-weight:bold">long</span> grade <span style="color:#000;font-weight:bold">=</span> rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLong</span><span style="color:#000;font-weight:bold">(</span>2<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>				String name <span style="color:#000;font-weight:bold">=</span> rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getString</span><span style="color:#000;font-weight:bold">(</span>3<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>				<span style="color:#458;font-weight:bold">int</span> gender <span style="color:#000;font-weight:bold">=</span> rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getInt</span><span style="color:#000;font-weight:bold">(</span>4<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li><code>Statement</code>Â å’ŒÂ <code>ResultSet</code>Â éƒ½æ˜¯éœ€è¦å…³é—­çš„èµ„æºï¼Œå› æ­¤åµŒå¥—ä½¿ç”¨Â <code>try (resource)</code>Â ç¡®ä¿åŠæ—¶å…³é—­ï¼›</li>
<li><code>rs.next()</code>Â ç”¨äºåˆ¤æ–­æ˜¯å¦æœ‰ä¸‹ä¸€è¡Œè®°å½•ï¼Œå¦‚æœæœ‰ï¼Œå°†è‡ªåŠ¨æŠŠå½“å‰è¡Œç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œï¼ˆä¸€å¼€å§‹è·å¾—Â <code>ResultSet</code>Â æ—¶å½“å‰è¡Œä¸æ˜¯ç¬¬ä¸€è¡Œï¼‰ï¼›</li>
<li><code>ResultSet</code>Â è·å–åˆ—æ—¶ï¼Œç´¢å¼•ä»Â <code>1</code>Â å¼€å§‹è€Œä¸æ˜¯Â <code>0</code>Â ï¼›ï¼ˆæ€è€ƒä¸€ä¸‹ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼ŸğŸ˜ï¼‰</li>
<li>å¿…é¡»æ ¹æ®Â <code>SELECT</code>Â çš„åˆ—å¯¹åº”çš„ä½ç½®æ¥è°ƒç”¨Â <code>getLong(1)ï¼ŒgetString(2)</code>Â è¿™äº›æ–¹æ³•ï¼Œå¦åˆ™å¯¹åº”ä½ç½®çš„æ•°æ®ç±»å‹ä¸å¯¹ï¼Œå°†æŠ¥é”™ã€‚</li>
</ul>
<p><strong>å…³äº SQL æ³¨å…¥æ”»å‡»</strong></p>
<p>ä½¿ç”¨Â <code>Statement</code>Â æ‹¼å­—ç¬¦ä¸²éå¸¸å®¹æ˜“å¼•å‘ SQL æ³¨å…¥çš„é—®é¢˜ï¼Œå› ä¸º SQL å‚æ•°å¾€å¾€æ˜¯ä»æ–¹æ³•å‚æ•°ä¼ å…¥çš„ã€‚</p>
<p>å¦‚ä½•é¿å… SQL æ³¨å…¥æ”»å‡»å‘¢ï¼Ÿä¸€ä¸ªåŠæ³•æ˜¯å¯¹æ‰€æœ‰å­—ç¬¦ä¸²è¿›è¡Œè½¬ä¹‰ï¼ˆå¾ˆéº»çƒ¦ï¼Œæ¨èï¼‰ï¼Œå¦ä¸€ä¸ªåŠæ³•å°±æ˜¯ä½¿ç”¨Â <code>PreparedStatement</code>Â ï¼ˆæ¯”Â <code>Statement</code>Â æ›´å¿«æ›´å®‰å…¨ï¼‰ã€‚</p>
<p>ä½¿ç”¨Â <code>PreparedStatement</code>Â å¯ä»¥å®Œå…¨é¿å… SQL æ³¨å…¥çš„é—®é¢˜ï¼Œå› ä¸ºÂ <code>PreparedStatement</code>Â å§‹ç»ˆä½¿ç”¨Â <code>?</code>Â ä½œä¸ºå ä½ç¬¦ï¼Œå¹¶ä¸”æŠŠæ•°æ®è¿åŒ SQL æœ¬èº«ä¼ ç»™æ•°æ®åº“ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ¯æ¬¡ä¼ ç»™æ•°æ®åº“çš„ SQL è¯­å¥æ˜¯ç›¸åŒçš„ï¼Œåªæ˜¯å ä½ç¬¦çš„æ•°æ®ä¸åŒï¼Œè¿˜èƒ½é«˜æ•ˆåˆ©ç”¨æ•°æ®åº“æœ¬èº«å¯¹æŸ¥è¯¢çš„ç¼“å­˜ã€‚</p>
<p>å¦‚æ­¤ï¼Œä¸Šé¢ä½¿ç”¨Â <code>Statement</code>Â çš„ä»£ç æ”¹ä¸ºä½¿ç”¨Â <code>PreparedStatement</code>Â ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>Connection conn <span style="color:#000;font-weight:bold">=</span> DriverManager<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">(</span>JDBC_URL<span style="color:#000;font-weight:bold">,</span> JDBC_USER<span style="color:#000;font-weight:bold">,</span> JDBC_PASSWORD<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>PreparedStatement ps <span style="color:#000;font-weight:bold">=</span> conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">prepareStatement</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;SELECT id, grade, name, gender FROM students WHERE gender=? AND grade=?&#34;</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#998;font-style:italic">// å¿…é¡»é¦–å…ˆè°ƒç”¨setObject() è®¾ç½®æ¯ä¸ªå ä½ç¬¦ ? çš„å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;M&#34;</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#998;font-style:italic">// æ³¨æ„ï¼šç´¢å¼•ä»1å¼€å§‹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>2<span style="color:#000;font-weight:bold">,</span> 3<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>ResultSet rs <span style="color:#000;font-weight:bold">=</span> ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">executeQuery</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">while</span> <span style="color:#000;font-weight:bold">(</span>rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>				<span style="color:#458;font-weight:bold">long</span> id <span style="color:#000;font-weight:bold">=</span> rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLong</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;id&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>				<span style="color:#458;font-weight:bold">long</span> grade <span style="color:#000;font-weight:bold">=</span> rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLong</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;grade&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>				String name <span style="color:#000;font-weight:bold">=</span> rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;name&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>				String gender <span style="color:#000;font-weight:bold">=</span> rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getString</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;gender&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>:: åœ¨ ResultSet è·å–åˆ—æ—¶ï¼Œç´¢å¼•ä» 1 å¼€å§‹è€Œä¸æ˜¯ 0 ï¼Œåœ¨ PrepareStatement çš„è®¾ç½®å ä½ç¬¦æ—¶ç´¢å¼•ä¹Ÿæ˜¯ä» 1 å¼€å§‹ã€‚</p>
</blockquote>
<p>æ³¨æ„åˆ° JDBC æŸ¥è¯¢çš„è¿”å›å€¼æ€»æ˜¯Â <code>ResultSet</code>Â ï¼Œå³ä½¿æˆ‘ä»¬å†™è¿™æ ·çš„èšåˆæŸ¥è¯¢Â <code>SELECT SUM(score) FROM ...</code>Â ï¼Œä¹Ÿéœ€è¦æŒ‰ç»“æœé›†è¯»å–ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ResultSet rs <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">...</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">double</span> sum <span style="color:#000;font-weight:bold">=</span> rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getDouble</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="jdbc-æ›´æ–°">JDBC æ›´æ–°</h3>
<p>æ•°æ®åº“æ“ä½œæ€»ç»“èµ·æ¥å°±å››ä¸ªå­—ï¼šå¢æŸ¥æ”¹åˆ ï¼ŒCRUDï¼ˆCreateï¼ŒRetrieveï¼ŒUpdate å’Œ Deleteï¼‰ã€‚</p>
<p>æŸ¥è¯¢ï¼Œå°±æ˜¯ä½¿ç”¨Â <code>PreparedStatement</code>Â è¿›è¡Œå„ç§Â <code>SELECT</code>Â ï¼Œç„¶åå¤„ç†ç»“æœé›†ã€‚</p>
<p><strong>æ’å…¥</strong></p>
<p>æ’å…¥æ“ä½œæ˜¯Â <code>INSERT</code>Â ï¼Œå³æ’å…¥ä¸€æ¡æ–°è®°å½•ã€‚é€šè¿‡ JDBC è¿›è¡Œæ’å…¥ï¼Œæœ¬è´¨ä¸Šäº†ä¹Ÿæ˜¯ç”¨Â <code>PreparedStatement</code>Â æ‰§è¡Œä¸€æ¡ SQL è¯­å¥ï¼Œä¸è¿‡æœ€åæ‰§è¡Œçš„ä¸æ˜¯Â <code>execteQuery()</code>Â ï¼Œè€Œæ˜¯Â <code>execteUpdate()</code>Â ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>Connection conn <span style="color:#000;font-weight:bold">=</span> DriverManager<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">(</span>JDBC_URL<span style="color:#000;font-weight:bold">,</span> JDBC_USER<span style="color:#000;font-weight:bold">,</span> JDBC_PASSWORD<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>PreparedStatement ps <span style="color:#000;font-weight:bold">=</span> conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">prepareStatement</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;INSERT INTO students (id, grade, name, gendar) VALUES (?,?,?,?)&#34;</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">,</span> 999<span style="color:#000;font-weight:bold">);</span>   <span style="color:#998;font-style:italic">// æ³¨æ„ï¼šç´¢å¼•ä»1å¼€å§‹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>2<span style="color:#000;font-weight:bold">,</span> 1<span style="color:#000;font-weight:bold">);</span>     <span style="color:#998;font-style:italic">// grade
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>3<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;Bob&#34;</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#998;font-style:italic">// name
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>4<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;M&#34;</span><span style="color:#000;font-weight:bold">);</span>   <span style="color:#998;font-style:italic">// gender
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>		<span style="color:#458;font-weight:bold">int</span> n <span style="color:#000;font-weight:bold">=</span> ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">executeUpdate</span><span style="color:#000;font-weight:bold">();</span> <span style="color:#998;font-style:italic">// 1 è¿”å› intï¼Œè¡¨ç¤ºæ’å…¥çš„è®°å½•æ•°é‡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>æ’å…¥å¹¶è·å–ä¸»é”®</strong></p>
<p>å¦‚æœæ•°æ®åº“çš„è¡¨è®¾ç½®äº†è‡ªå¢ä¸»é”®ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡ŒÂ <code>INSERT</code>Â è¯­å¥æ—¶ï¼Œå¹¶ä¸éœ€è¦æŒ‡å®šä¸»é”®ï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨åˆ†é…ä¸»é”®ã€‚</p>
<p>å¯¹äºä½¿ç”¨è‡ªå¢ä¸»é”®çš„ç¨‹åºï¼Œæœ‰ä¸ªé¢å¤–çš„æ­¥éª¤ï¼Œå°±æ˜¯å¦‚ä½•è·å–æ’å…¥åçš„è‡ªå¢ä¸»é”®çš„å€¼ï¼Ÿè¦è·å–è‡ªå¢ä¸»é”®ï¼Œä¸èƒ½å…ˆæ’å…¥ï¼Œå†æŸ¥è¯¢ã€‚å› ä¸ºä¸¤æ¡ SQL æ‰§è¡ŒæœŸé—´å¯èƒ½æœ‰åˆ«çš„ç¨‹åºä¹Ÿæ’å…¥äº†åŒä¸€ä¸ªè¡¨ã€‚è·å–è‡ªå¢ä¸»é”®çš„æ­£ç¡®å†™æ³•æ˜¯åœ¨åˆ›å»ºÂ <code>PreparedStatement</code>Â çš„æ—¶å€™ï¼ŒæŒ‡å®šä¸€ä¸ªÂ <code>RETURN_GENERATED_KEYS</code>Â æ ‡å¿—ä½ï¼Œè¡¨ç¤º JDBC é©±åŠ¨å¿…é¡»è¿”å›æ’å…¥çš„è‡ªå¢ä¸»é”®ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>Connection conn <span style="color:#000;font-weight:bold">=</span> DriverManager<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">(</span>JDBC_URL<span style="color:#000;font-weight:bold">,</span> JDBC_USER<span style="color:#000;font-weight:bold">,</span> JDBC_PASSWORD<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>Preparestatement ps <span style="color:#000;font-weight:bold">=</span> conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">prepareStatement</span><span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>													<span style="color:#d14">&#34;INSERT INTO students (grade, name, gender) VALUES (?,?,?)&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>													Statement<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">RETURN_GENERATED_KEYS</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">,</span> 1<span style="color:#000;font-weight:bold">);</span>     <span style="color:#998;font-style:italic">// grade
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>2<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;Bob&#34;</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#998;font-style:italic">// name
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>3<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;M&#34;</span><span style="color:#000;font-weight:bold">);</span>   <span style="color:#998;font-style:italic">// gender
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>		<span style="color:#458;font-weight:bold">int</span> n <span style="color:#000;font-weight:bold">=</span> ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">executeUpdate</span><span style="color:#000;font-weight:bold">();</span> <span style="color:#998;font-style:italic">// 1
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>ResultSet rs <span style="color:#000;font-weight:bold">=</span> ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getGeneratedKeys</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span>rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">next</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>				<span style="color:#458;font-weight:bold">long</span> id <span style="color:#000;font-weight:bold">=</span> rs<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getLong</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">);</span> <span style="color:#998;font-style:italic">// æ³¨æ„ï¼šç´¢å¼•ä»1å¼€å§‹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>			<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>è§‚å¯Ÿä¸Šè¿°ä»£ç ï¼Œæœ‰ä¸¤ç‚¹æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>è°ƒç”¨Â <code>prepareStatement()</code>Â æ—¶ï¼Œç¬¬äºŒä¸ªå‚æ•°å¿…é¡»ä¼ å…¥å¸¸é‡Â <code>Statement.RETURN_GENERATED_KEYS</code>Â ï¼Œå¦åˆ™ JDBC é©±åŠ¨ä¸ä¼šè¿”å›è‡ªå¢ä¸»é”®ï¼›</li>
<li>æ‰§è¡ŒÂ <code>execteUpdate()</code>Â æ–¹æ³•åï¼Œå¿…é¡»è°ƒç”¨Â <code>getGeneratedkeys()</code>Â è·å–ä¸€ä¸ªÂ <code>ResultSet</code>Â å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®çš„å€¼ï¼Œè¯»å–è¯¥å¯¹è±¡çš„æ¯ä¸€è¡Œæ¥è·å–è‡ªå¢ä¸»é”®çš„å€¼ã€‚æ³¨æ„ï¼Œå¦‚æœä¸€æ¬¡æ’å¤šæ¡è®°å½•ï¼Œé‚£ä¹ˆè¿™ä¸ªÂ <code>ResultSet</code>Â å¯¹è±¡å°±ä¼šæœ‰å¤šè¡Œè¿”å›å€¼ã€‚å¦‚æœæ’å…¥æ—¶æœ‰å¤šåˆ—è‡ªå¢ï¼Œé‚£ä¹ˆÂ <code>ResultSet</code>Â å¯¹è±¡çš„æ¯ä¸€è¡Œéƒ½ä¼šå¯¹åº”å¤šä¸ªè‡ªå¢å€¼ï¼ˆè‡ªå¢åˆ—ä¸ä¸€å®šå¿…é¡»æ˜¯ä¸»é”®ï¼‰ã€‚</li>
</ul>
<p><strong>æ›´æ–°</strong></p>
<p>æ›´æ–°æ“ä½œæ˜¯Â <code>UPDATE</code>Â è¯­å¥ï¼Œå®ƒå¯ä»¥ä¸€æ¬¡æ›´æ–°è‹¥å¹²åˆ—çš„è®°å½•ã€‚æ›´æ–°æ“ä½œå’Œæ’å…¥æ“ä½œåœ¨ JDBC ä»£ç çš„å±‚é¢ä¸Šå®é™…ä¸Šæ²¡æœ‰åŒºåˆ«ï¼Œé™¤äº† SQL è¯­å¥ä¸åŒï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>Connection conn <span style="color:#000;font-weight:bold">=</span> DriverManager<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">(</span>JDBC_URL<span style="color:#000;font-weight:bold">,</span> JDBC_USER<span style="color:#000;font-weight:bold">,</span> JDBC_PASSWORD<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>PreparedStatement ps <span style="color:#000;font-weight:bold">=</span> conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">prepareStatement</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;UPDATE students SET name=? WHERE id=?&#34;</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;Bob&#34;</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#998;font-style:italic">// æ³¨æ„ï¼šç´¢å¼•ä»1å¼€å§‹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>2<span style="color:#000;font-weight:bold">,</span> 999<span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		<span style="color:#458;font-weight:bold">int</span> n <span style="color:#000;font-weight:bold">=</span> ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">executeUpdate</span><span style="color:#000;font-weight:bold">();</span> <span style="color:#998;font-style:italic">// è¿”å›æ›´æ–°çš„è¡Œæ•°
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>*æ³¨æ„ï¼ŒÂ <code>execteUpdate()</code>Â è¿”å›æ•°æ®åº“å®é™…æ›´æ–°çš„è¡Œæ•°ã€‚è¿”å›ç»“æœå¯èƒ½æ˜¯æ­£æ•°ï¼Œä¹Ÿå¯èƒ½æ˜¯ 0 ï¼ˆè¡¨ç¤ºæ²¡æœ‰ä»»ä½•è®°å½•æ›´æ–°ï¼‰ã€‚</p>
<p><strong>åˆ é™¤</strong></p>
<p>åˆ é™¤æ“ä½œæ˜¯Â <code>DELETE</code>Â è¯­å¥ï¼Œå®ƒå¯ä»¥ä¸€æ¬¡åˆ é™¤è‹¥å¹²åˆ—ã€‚å’Œæ›´æ–°ä¸€æ ·ï¼Œé™¤äº† SQL è¯­å¥ä¸åŒå¤–ï¼ŒJDBC ä»£ç éƒ½æ˜¯ç›¸åŒçš„ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>Connection conn <span style="color:#000;font-weight:bold">=</span> DriverManager<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">(</span>JDBC_URL<span style="color:#000;font-weight:bold">,</span> JDBC_USER<span style="color:#000;font-weight:bold">,</span> JDBC_PASSWORD<span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>PreparedStatement ps <span style="color:#000;font-weight:bold">=</span> conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">prepareStatement</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;DELETE FROM students WHERE id=?&#34;</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setObject</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">,</span> 999<span style="color:#000;font-weight:bold">);</span> <span style="color:#998;font-style:italic">// æ³¨æ„ï¼šç´¢å¼•ä»1å¼€å§‹
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>		<span style="color:#458;font-weight:bold">int</span> n <span style="color:#000;font-weight:bold">=</span> ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">executeUpdate</span><span style="color:#000;font-weight:bold">();</span> <span style="color:#998;font-style:italic">// åˆ é™¤çš„è¡Œæ•°
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="jdbc-äº‹åŠ¡">JDBC äº‹åŠ¡</h3>
<p>è¦åœ¨ JDBC ä¸­æ‰§è¡Œäº‹åŠ¡ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å¦‚ä½•æŠŠå¤šæ¡ SQL åŒ…è£¹åœ¨ä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡ä¸­æ‰§è¡Œã€‚å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>Connection conn <span style="color:#000;font-weight:bold">=</span> openConnection<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// å…³é—­è‡ªåŠ¨æäº¤
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setAutoCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">false</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// æ‰§è¡Œå¤šæ¡ SQL è¯­å¥
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	insert<span style="color:#000;font-weight:bold">();</span> update<span style="color:#000;font-weight:bold">();</span> delete<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// æäº¤äº‹åŠ¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">commit</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">catch</span> <span style="color:#000;font-weight:bold">(</span>SQLException e<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// å›æ»šäº‹åŠ¡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">rollback</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">finally</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setAutoCommit</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000;font-weight:bold">true</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>	conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">close</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å®é™…ä¸Šï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è·å–åˆ°Â <code>Connection</code>Â è¿æ¥åï¼Œæ€»æ˜¯å¤„äºâ€œè‡ªåŠ¨æäº¤â€æ¨¡å¼ï¼ˆä¸€æ¡ SQL è¯­å¥å…¶å®å°±æ˜¯ä¸€ä¸ªâ€œéšå¼äº‹åŠ¡â€ï¼‰ã€‚åªè¦å…³é—­äº†Â <code>Connection</code>Â çš„Â <code>autoCommit</code>Â ï¼Œé‚£ä¹ˆå°±å¯ä»¥åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­æ‰§è¡Œå¤šæ¡è¯­å¥ï¼Œäº‹åŠ¡ä»¥Â <code>commit()</code>Â æ–¹æ³•ç»“æŸã€‚</p>
<p>å¦‚æœè¦è®¾å®šäº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// è®¾å®šéš”ç¦»çº§åˆ«ä¸ºREAD COMMITTED:
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setTransactionIsolation</span><span style="color:#000;font-weight:bold">(</span>Connection<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">TRANSACTION_READ_COMMITTED</span><span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¦‚æœæ²¡æœ‰è°ƒç”¨ä¸Šè¿°æ–¹æ³•ï¼Œé‚£ä¹ˆä¼šä½¿ç”¨æ•°æ®åº“çš„é»˜è®¤éš”ç¦»çº§åˆ«ã€‚MySQL çš„é»˜è®¤éš”ç¦»çº§åˆ«æ˜¯<code>REPEATABLE READ</code>ã€‚</p>
<h3 id="jdbc-batch">JDBC Batch</h3>
<p>é€šè¿‡ä¸€ä¸ªå¾ªç¯æ¥æ‰§è¡Œæ¯ä¸ªÂ <code>PreparedStatement</code>Â è™½ç„¶å¯é ï¼Œä½†æ˜¯æ€§èƒ½å¾ˆä½ã€‚SQL æ•°æ®åº“å¯¹ SQL è¯­å¥ç›¸åŒä½†å‚æ•°ä¸åŒçš„è‹¥å¹²è¯­å¥å¯ä»¥ä½œä¸º batch æ‰§è¡Œï¼ˆæ‰¹é‡æ‰§è¡Œï¼‰ï¼Œè¿™ç§æ“ä½œæœ‰ç‰¹åˆ«ä¼˜åŒ–ï¼Œé€Ÿåº¦è¿œè¿œå¿«äºå¾ªç¯æ‰§è¡Œæ¯ä¸ª SQLã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>PreparedStatement ps <span style="color:#000;font-weight:bold">=</span> conn<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">PreparedStatement</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;INSERT INTO students (name, gender, grade, score) VALUES (?,?,?,?)&#34;</span><span style="color:#000;font-weight:bold">))</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// å¯¹åŒä¸€ä¸ª PreparedStatement åå¤è®¾ç½®å‚æ•°å¹¶è°ƒç”¨ addBatch():
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">(</span>Student s <span style="color:#000;font-weight:bold">:</span> students<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setString</span><span style="color:#000;font-weight:bold">(</span>1<span style="color:#000;font-weight:bold">,</span> s<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">name</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setBoolean</span><span style="color:#000;font-weight:bold">(</span>2<span style="color:#000;font-weight:bold">,</span> s<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">gender</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setInt</span><span style="color:#000;font-weight:bold">(</span>3<span style="color:#000;font-weight:bold">,</span> s<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">grade</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setInt</span><span style="color:#000;font-weight:bold">(</span>4<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">s</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">score</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">addBatch</span><span style="color:#000;font-weight:bold">();</span>          <span style="color:#998;font-style:italic">// æ·»åŠ åˆ° batch
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic">// æ‰§è¡Œ batch
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[]</span> ns <span style="color:#000;font-weight:bold">=</span> ps<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">executeBatch</span><span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span><span style="color:#000;font-weight:bold">(</span><span style="color:#458;font-weight:bold">int</span> n <span style="color:#000;font-weight:bold">:</span> ns<span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		System<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">out</span><span style="color:#000;font-weight:bold">.</span><span style="color:#008080">println</span><span style="color:#000;font-weight:bold">(</span>n <span style="color:#000;font-weight:bold">+</span> <span style="color:#d14">&#34; insert.&#34;</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#998;font-style:italic">// batch ä¸­æ¯ä¸ª SQL æ‰§è¡Œçš„ç»“æœæ•°é‡
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ‰§è¡Œ batch å’Œæ‰§è¡Œä¸€ä¸ª SQL ä¸åŒç‚¹åœ¨äºï¼Œéœ€è¦å¯¹åŒä¸€ä¸ªÂ <code>PreparedStatement</code>Â åå¤è®¾ç½®å‚æ•°å¹¶è°ƒç”¨Â <code>addBatch()</code>Â ï¼Œè¿™æ ·å°±ç›¸å½“äºç»™ä¸€ä¸ª SQL åŠ ä¸Šäº†å¤šç»„å‚æ•°ï¼Œç›¸å½“äºå˜æˆäº†â€œå¤šè¡Œâ€SQLã€‚</p>
<p>ç¬¬äºŒä¸ªä¸åŒç‚¹æ˜¯è°ƒç”¨çš„ä¸æ˜¯Â <code>executeUpdate()</code>Â ï¼Œè€Œæ˜¯Â <code>executeBatch()</code>Â ï¼Œå› ä¸ºæˆ‘ä»¬è®¾ç½®äº†å¤šç»„å‚æ•°ï¼Œç›¸åº”åœ°ï¼Œè¿”å›ç»“æœä¹Ÿæ˜¯å¤šä¸ªÂ <code>int</code>Â å€¼ï¼Œå› æ­¤è¿”å›ç±»å‹æ˜¯Â <code>int[]</code>Â ï¼Œå¾ªç¯Â <code>int[]</code>Â æ•°ç»„å³å¯è·å–æ¯ç»„å‚æ•°æ‰§è¡Œåå½±å“çš„ç»“æœæ•°é‡ã€‚</p>
<h3 id="jdbc-è¿æ¥æ± ">JDBC è¿æ¥æ± </h3>
<p>åœ¨æ‰§è¡Œ JDBC çš„å¢åˆ æ”¹æŸ¥çš„æ“ä½œæ—¶ï¼Œå¦‚æœæ¯ä¸€æ¬¡æ“ä½œéƒ½æ¥ä¸€æ¬¡â€œæ‰“å¼€è¿æ¥ï¼Œæ“ä½œï¼Œå…³é—­è¿æ¥â€ï¼Œé‚£ä¹ˆåˆ›å»ºå’Œé”€æ¯ JDBC è¿æ¥çš„å¼€é”€å°±å¤ªå¤§äº†ã€‚</p>
<p>ä¸ºäº†é¿å…é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯ JDBC è¿æ¥ï¼Œæˆ‘ä»¬å¯èƒ½é€šè¿‡è¿æ¥æ± ï¼ˆConnection Poolï¼‰å¤ç”¨å·²ç»åˆ›å»ºå¥½çš„è¿æ¥ã€‚JDBC è¿æ¥æ± æœ‰ä¸€ä¸ªæ ‡å‡†çš„æ¥å£Â <code>javax.sql.DataSource</code>Â ã€‚è¦ä½¿ç”¨ JDBC è¿æ¥æ± ï¼Œæˆ‘ä»¬å¿…é¡»é€‰æ‹©ä¸€ä¸ª JDBC è¿æ¥æ± çš„å®ç°ã€‚å¸¸ç”¨çš„ JDBC è¿æ¥æ± æœ‰ï¼š</p>
<ul>
<li>HikariCPï¼ˆä½¿ç”¨æœ€å¹¿æ³›ï¼‰</li>
<li>C3P0</li>
<li>BoneCP</li>
<li>Druidï¼ˆé˜¿é‡Œçš„ï¼Œå›½å†…ä½¿ç”¨æœ€å¤šï¼‰</li>
</ul>
<p>æ­¤å¤„ï¼Œæˆ‘ä»¬ä»¥ HikariCP ä¸ºä¾‹ï¼Œè¦ä½¿ç”¨ JDBC è¿æ¥æ± ï¼Œå…ˆæ·»åŠ  HikariCP çš„ä¾èµ–ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#000080">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&lt;groupId&gt;</span>com.zaxxer<span style="color:#000080">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&lt;artifactId&gt;</span>HikariCP<span style="color:#000080">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000080">&lt;version&gt;</span>2.7.1<span style="color:#000080">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000080">&lt;/dependency&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ç´§æ¥ç€ï¼Œåˆ›å»ºä¸€ä¸ªÂ <code>DataSource</code>Â å®ä¾‹ï¼Œè¿™ä¸ªå®ä¾‹å°±æ˜¯è¿æ¥æ± ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>HikariConfig config <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> HikariConfig<span style="color:#000;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>config<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setJdbcUrl</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;jdbc:mysql://localhost:3306/test&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>config<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setUsername</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;root&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>config<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">setPassword</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;password&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>config<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">addDataSourceProperty</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;connectionTimeout&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;1000&#34;</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#998;font-style:italic">// è¿æ¥è¶…æ—¶ï¼š1ç§’
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>config<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">addDataSourceProperty</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;idleTimeout&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;60000&#34;</span><span style="color:#000;font-weight:bold">);</span>      <span style="color:#998;font-style:italic">// ç©ºé—²è¶…æ—¶ï¼š60ç§’
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>config<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">addDataSourceProperty</span><span style="color:#000;font-weight:bold">(</span><span style="color:#d14">&#34;maximumPoolSize&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#d14">&#34;10&#34;</span><span style="color:#000;font-weight:bold">);</span>     <span style="color:#998;font-style:italic">// æœ€å¤§è¿æ¥æ•°ï¼š10
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>DataSource ds <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">new</span> HikariDataSource<span style="color:#000;font-weight:bold">(</span>config<span style="color:#000;font-weight:bold">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æœ‰äº†è¿æ¥æ± ä»¥åï¼Œæˆ‘ä»¬é€šè¿‡Â <code>ds.getConnection()</code>Â æ¥ä»£æ›¿Â <code>DriverManager.getConnection()</code>Â è·å–ä¸€ä¸ªè¿æ¥ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">try</span> <span style="color:#000;font-weight:bold">(</span>Connection conn <span style="color:#000;font-weight:bold">=</span> ds<span style="color:#000;font-weight:bold">.</span><span style="color:#008080">getConnection</span><span style="color:#000;font-weight:bold">())</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#998;font-style:italic">// åœ¨æ­¤å¤„è·å–è¿æ¥
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#998;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>   <span style="color:#998;font-style:italic">// åœ¨æ­¤å¤„â€œå…³é—­â€è¿æ¥ï¼ˆä¸æ˜¯çœŸæ­£çš„å…³é—­ï¼Œåªæ˜¯é‡Šæ”¾åˆ°è¿æ¥æ± ä¸­ï¼Œä»¥ä¾¿ä¸‹æ¬¡è·å–è¿æ¥æ—¶ç›´æ¥è¿”å›ï¼‰
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>è¿æ¥æ± å†…éƒ¨ç»´æŠ¤äº†è‹¥å¹²ä¸ªÂ <code>Connection</code>Â å®ä¾‹ï¼Œå¦‚æœè°ƒç”¨Â <code>ds.getConnection()</code>Â ï¼Œå°±é€‰æ‹©ä¸€ä¸ªç©ºé—²è¿æ¥ï¼Œå¹¶æ ‡è®°å®ƒä¸ºâ€œæ­£åœ¨ä½¿ç”¨â€ç„¶åè¿”å›ï¼Œå¦‚æœå¯¹Â <code>Connection</code>Â è°ƒç”¨Â <code>close()</code>Â ï¼Œé‚£ä¹ˆå°±æŠŠè¿æ¥å†æ¬¡æ ‡è®°ä¸ºâ€œç©ºé—²â€ä»è€Œç­‰å¾…ä¸‹æ¬¡è°ƒç”¨ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±é€šè¿‡è¿æ¥æ± ç»´æŠ¤äº†å°‘é‡è¿æ¥ï¼Œä½†å¯ä»¥é¢‘ç¹åœ°æ‰§è¡Œå¤§é‡çš„ SQL è¯­å¥ã€‚</p>
<p>é€šå¸¸è¿æ¥æ± æä¾›äº†å¤§é‡çš„å‚æ•°å¯ä»¥é…ç½®ï¼Œä¾‹å¦‚ï¼Œç»´æŠ¤çš„æœ€å°ã€æœ€å¤§æ´»åŠ¨è¿æ¥æ•°ï¼ŒæŒ‡å®šä¸€ä¸ªè¿æ¥åœ¨ç©ºé—²ä¸€æ®µæ—¶é—´åè‡ªåŠ¨å…³é—­ç­‰ï¼Œéœ€è¦æ ¹æ®åº”ç”¨ç¨‹åºçš„è´Ÿè½½åˆç†åœ°é…ç½®è¿™äº›å‚æ•°ã€‚æ­¤å¤–ï¼Œå¤§å¤šæ•°è¿æ¥æ± éƒ½æä¾›äº†è¯¦ç»†çš„å®æ—¶çŠ¶æ€ä»¥ä¾¿è¿›è¡Œç›‘æ§ã€‚</p>
    </div>

    

    <div class="container-comment-giscus">
        <script src="https://giscus.app/client.js"
        data-repo="loveminimal/comment"
        data-repo-id="R_kgDOJNJQ8g"
        data-category="General"
        data-category-id="DIC_kwDOJNJQ8s4CYl0m"
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="noborder_light"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
        </script>
</div>
</div>

        </div>
        <div id="footer"><div class="container-footer">
    

    <div class="beian">
        
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=">
            

        </a>

        
        <a href="/about" target="_blank">
            
            å°†å–œæ¬¢çš„ä¸€åˆ‡ç•™åœ¨èº«è¾¹ï¼Œè¿™ä¾¿æ˜¯åŠªåŠ›çš„æ„ä¹‰
            
        </a>
    </div>

    
    <div class="info">
        
        <a href="https://github.com/loveminimal/hugo-theme-virgo">ğŸ•Šï¸</a> 2016 - <span id="info-date"></span>
    </div>

</div></div>
        <div class="cool-after" style="
            
                background-color: rgba(255, 255, 255, 0.69); 
                backdrop-filter: saturate(180%) blur(6px);
            
            "></div>
    </body>
</html>
