<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="浏览器中的尺寸大小和位置 - https://aituyaa.com/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E5%B0%BA%E5%AF%B8%E5%A4%A7%E5%B0%8F%E5%92%8C%E4%BD%8D%E7%BD%AE/">
    <meta name="author" content="Jack - https://aituyaa.com/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>浏览器中的尺寸大小和位置</title>
    
    <base target="_blank">
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    
    
    
    
    <link rel="stylesheet" href="https://aituyaa.com/style.min.7a1211384e00d894dc501a9708ae5fb349825c010d5348b62a8727d135f41615.css">
    
    <script>const DARK =  false ;</script>
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        
        <div class="cool-before" style="background: url('/imgs/bg/color.jpg') left top/100% no-repeat fixed;"></div>
        <div id="header" class=""><div class="container-header">

    
    
    
    <div class="right">
        
        <h1 class="title">浏览器中的尺寸大小和位置</h1>
    
        
        
            <div id="toc">📜</div>
        
    </div>
</div>
</div>
        <div id="content">










<div class="container-main container-page ">

    

    
    
    
    <div class="rel">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <div class="curtag-desc">
            <a href="https://aituyaa.com/tags/javascript/"><img src="/imgs/icons/tag.svg" width="16" /> 相关文章：JavaScript <sup>24</sup></a>
        </div>

        <div class="curtag-post">
            
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/ajax/">Ajax</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/callapply-%E5%92%8C-bind/">call、apply 和 bind</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/canvas/">Canvas</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/devmaps/frontend/">Frontend</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/js-%E4%B8%AD%E7%9A%84%E6%8B%96%E6%94%BE/">JS 中的拖放</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/js-%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E6%91%98%E5%BD%95/">JS 高级程序设计·摘录</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/react/">React</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/react-%E5%9F%BA%E7%A1%80%E8%84%9A%E6%89%8B%E6%9E%B6%E7%A4%BA%E4%BE%8B/">React 基础脚手架示例</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/source-map/">Source Map</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/typescript-%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF/">TypeScript 那些事儿</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/web-%E5%BC%80%E5%8F%91%E7%9B%B8%E5%85%B3%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E9%9A%8F%E6%83%B3/">Web 开发相关体系结构随想</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E5%85%B3%E4%BA%8E-fetch/">关于 fetch</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E5%85%B3%E4%BA%8E-promise/">关于 Promise</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E5%89%8D%E7%AB%AF%E6%B5%85%E8%B0%88/">前端浅谈</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E6%96%87%E4%BB%B6%E8%BD%AC%E6%8D%A2/">文件转换</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A8%8B/">模块化编程</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E6%B5%8F%E8%A7%88%E5%99%A8/">浏览器</a>
                </div>
                
                
            
            
                <div class="curtag-post-item curtag-post-item--active">
                    <a href="https://aituyaa.com/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E5%B0%BA%E5%AF%B8%E5%A4%A7%E5%B0%8F%E5%92%8C%E4%BD%8D%E7%BD%AE/">浏览器中的尺寸大小和位置</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B/">浏览器的渲染过程</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E6%BB%9A%E5%8A%A8%E6%9D%A1%E6%A0%B7%E5%BC%8F/">滚动条样式</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E7%94%9F%E6%88%90%E5%99%A8/">生成器</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E7%BD%91%E9%A1%B5%E4%B8%AD%E7%9A%84%E9%94%9A%E7%82%B9%E8%B7%B3%E8%BD%AC/">网页中的锚点跳转</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E8%B7%A8%E5%9F%9F/">跨域</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E9%98%B2%E6%8A%96%E4%B8%8E%E8%8A%82%E6%B5%81/">防抖与节流</a>
                </div>
                
                
        </div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </div>
    
    

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="7409" width="12" height="12">
                <path
                    d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z"
                    p-id="7410" fill="#adb5bd"></path>
            </svg>
            2024-05-09&nbsp;&nbsp;&nbsp;
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="23838" width="11" height="11">
                <path
                    d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z"
                    p-id="23839" fill="#adb5bd"></path>
            </svg>
            2024-12-20&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="33866" width="12" height="12">
                <path
                    d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z"
                    fill="#adb5bd" p-id="33867"></path>
                <path
                    d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z"
                    fill="#adb5bd" p-id="33868"></path>
            </svg>
            5585 字</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="32892" width="12" height="12">
                <path
                    d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z"
                    p-id="32893" fill="#adb5bd"></path>
                <path
                    d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z"
                    p-id="32894" fill="#adb5bd"></path>
            </svg>
            12 分钟</span>
        <div class="container-ctgtag">
	<div class="taxonomy">
		<div class="tag">
			
			
			<a href="/tags/javascript">JavaScript</a>
			
		</div>
	</div>
</div>
        
    </div>

    <div class="toc">
        <div class="container-page-operation">
	<div class="page-operation">
		<div><a href="/"><img src="/imgs/icons/home-2.svg" alt=""></a></div>
		<div><a href="/nav"><img src="/imgs/icons/iov-navigate-1.svg" alt=""></a></div>
		<div><a href="/wiki"><img src="/imgs/icons/wiki.svg" alt=""></a></div>
		<div><a href="/tags"><img src="/imgs/icons/treetags.svg" alt=""></a></div>
		<div id="light-dark"><a><img src="/imgs/icons/moon2.svg" alt=""></a></div>
		<div><a href="#"><img src="/imgs/icons/up2.svg" alt=""></a></div>
	</div>
</div>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#-写在最前面的">⭐ 写在最前面的</a></li>
    <li><a href="#基础了解">基础了解</a></li>
    <li><a href="#窗口和视口">窗口和视口</a></li>
    <li><a href="#元素视口">元素视口</a>
      <ul>
        <li><a href="#clientwidth-和-clientheight">clientWidth 和 clientHeight</a></li>
        <li><a href="#clientleft-和-clienttop">❓clientLeft 和 clientTop</a></li>
        <li><a href="#scrollwidth-和-scrollheight">scrollWidth 和 scrollHeight</a></li>
        <li><a href="#scrollleft-和-scrolltop">scrollLeft 和 scrollTop</a></li>
        <li><a href="#offsetwidth-和-offsetheight">offsetWidth 和 offsetHeight</a></li>
        <li><a href="#offsetleft-和-offsettop">offsetLeft 和 offsetTop</a></li>
      </ul>
    </li>
    <li><a href="#事件中的位置">事件中的位置</a>
      <ul>
        <li><a href="#mouseevent">MouseEvent</a></li>
        <li><a href="#touchevent">TouchEvent</a></li>
        <li><a href="#scroll-事件">scroll 事件</a></li>
      </ul>
    </li>
    <li><a href="#我要说的是">我要说的是…</a></li>
    <li><a href="#实例分析">实例分析</a></li>
  </ul>
</nav>
    </div>

    <div class='content  '>
        <p>在页面渲染的过程中，获取一个窗口或元素的尺寸大小及位置信息是必要的。鉴于市面上浏览器的多种多样以及某些历史原因，相关的一些元素属性和 API 可能有差异，这里我们以它们在 Chrome 中的表现为准，展开聊一下相关方面的东东 ~</p>
<h2 id="-写在最前面的">⭐ 写在最前面的</h2>
<blockquote>
<p>这个章节属于增补内容，在后续查询资料的过程中无意中发现在 MDN 上有更加详细易懂的相关知识。放在这里，以有利于后续内容的深度认识。详见📔 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSSOM_view/Coordinate_systems">坐标系 - CSS：层叠样式表 | MDN</a></p>
</blockquote>
<p><strong>标准 CSS 对象模型坐标系</strong></p>
<p>CSS 对象模型使用四种标准坐标系。为了帮助直观地理解这些主要坐标系，下图显示了一台显示器，显示器上有一个浏览器窗口，窗口中的内容滚动到了视口之外。在视口外滚动的页面内容在浏览器窗口上方显示为半透明，以指示“页面”坐标的原点在哪里。“客户端”、“页面”和“视口”坐标系的原点已突出显示。</p>
<p>![[assets/Pasted image 20240516144020.png]]</p>
<p><strong>偏移</strong></p>
<p>使用“偏移”模型指定的坐标使用的是被检查元素或发生事件的元素的左上角。</p>
<p>例如，当发生鼠标事件时，事件的 <code>offsetX</code> 和 <code>offsetY</code> 属性中指定的鼠标位置相对于事件发生节点的左上角。原点的嵌入距离由 <code>padding-left</code> 和 <code>padding-top</code> 指定。</p>
<p><strong>视口</strong></p>
<blockquote>
<p>你可以在 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Viewport_concepts">视口概念 - CSS：层叠样式表 | MDN</a> 了解更多关于视口的信息。</p>
</blockquote>
<p>“视口”（或“客户端”）坐标系以发生事件的视口或浏览上下文的左上角为原点。这就是呈现文档的整个视图区域。</p>
<p>例如，在台式电脑上，<code>MouseEvent.clientX</code> 和 <code>MouseEvent.clientY</code> 属性表示事件发生时鼠标光标相对于 window 左上角的位置。使用触控笔或指针时，触摸事件中的 <code>Touch.clientX</code> 和 <code>Touch.clientY</code> 坐标相对于同一原点。</p>
<p>窗口的左上角始终是 <code>(0，0)</code>，与文档内容或任何滚动无关。换句话说，滚动文档会改变文档中给定位置的视口坐标。</p>
<p><strong>页面</strong></p>
<p>“页面”坐标系给出了一个元素相对于整个渲染文档左上角的位置。这意味着用户在文档中横向或纵向滚动元素后，除非元素通过布局变化移动，否则文档中元素的某一点将保持相同的坐标。</p>
<p>鼠标事件的 <code>pageX</code> 和 <code>pageY</code> 属性提供了事件发生时鼠标相对于文档左上角的位置。触摸事件中的 <code>Touch.pageX</code> 和 <code>Touch.pageY</code> 坐标相对于同一原点。</p>
<p><strong>屏幕</strong></p>
<p>最后，来介绍“屏幕”模型，原点是用户屏幕空间的左上角。该坐标系中的每个点都代表一个逻辑像素，因此每个坐标轴上的值都以整数递增或递减。如果文档中包含的窗口被移动，或者用户的屏幕几何形状发生变化（通过改变显示分辨率或在系统中添加或删除显示器），文档中给定点的位置就会发生变化。</p>
<p><code>MouseEvent.screenX</code> 和 <code>MouseEvent.screenY</code> 属性给出了鼠标事件相对于屏幕原点的位置坐标。触摸事件中的 <code>Touch.screenX</code> 和 <code>Touch.screenY</code> 坐标相对于同一原点。</p>
<blockquote>
<p>:: 不得不说，MDN 你值得拥有~</p>
</blockquote>
<h2 id="基础了解">基础了解</h2>
<blockquote>
<p>💡 本章节内容主要摘录自《JavaScript 高级程序设计》的第 12 章的 12.1 和 12.4 小节。建议先阅读一下摘录或对应章节的内容，当然如果你想直接跳过这一章也无不可，在后续章节中我们会进一步总结相关方面的知识点。</p>
</blockquote>
<p>下面让我们先来了解一下浏览器中窗口和元素的尺寸大小及位置的基础内容吧。</p>
<p>BOM 的核心是 window 对象，表示浏览器的实例。</p>
<p>window 对象的位置可以通过不同的属性和方法来确定。现代浏览器提供了 <code>screenLeft</code> 和 <code>screenTop</code> 属性，用于表示窗口相对于屏幕左侧和顶部的位置 ，返回值的单位是 CSS 像素。</p>
<p>在不同浏览器中确定<strong>浏览器窗口</strong>大小没有想象中那么容易。所有现代浏览器都支持 4 个属性：<code>innerWidth</code>、 <code>innerHeight</code>、 <code>outerWidth</code> 和 <code>outerHeight</code>。 <code>outerWidth</code> 和 <code>outerHeight</code> 返回浏
览器窗口自身的大小（不管是在最外层 window 上使用，还是在窗格 <code>&lt;frame&gt;</code> 中使用）。<code>innerWidth</code> 和 <code>innerHeight</code> 返回浏览器窗口中<strong>页面视口</strong>的大小（不包含浏览器边框和工具栏）。<br>
<code>document.documentElement.clientWidth</code> 和 <code>document.documentElement.clientHeight</code> 返回页面视口的宽度和高度。</p>
<p>浏览器窗口自身的精确尺寸不好确定，但可以确定页面视口的大小，如下所示：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">let</span> pageWidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">window</span>.innerWidth,
</span></span><span style="display:flex;"><span>	pageHeight <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">window</span>.innerHeight;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 检查 pageWidth 是不是一个数值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">if</span> (<span style="color:#000;font-weight:bold">typeof</span> pageWidth <span style="color:#000;font-weight:bold">!=</span> <span style="color:#d14">&#34;number&#34;</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">// 检查页面是否处于标准模式
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">if</span> (<span style="color:#0086b3">document</span>.compatMode <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#34;CSS1Compat&#34;</span>) {
</span></span><span style="display:flex;"><span>		pageWidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">document</span>.documentElement.clientWidth;
</span></span><span style="display:flex;"><span>		pageHeight <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">document</span>.documentElement.clientHeight;
</span></span><span style="display:flex;"><span>	} <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>		pageWidth <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">document</span>.body.clientWidth;
</span></span><span style="display:flex;"><span>		pageHeight <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">document</span>.body.clientHeight;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>在移动设备上， <code>window.innerWidth</code> 和 <code>window.innerHeight</code> 返回视口的大小，也就是屏幕上页面可视区域的大小。 Mobile Internet Explorer 支持这些属性，但在 <code>document.documentElement.clientWidth</code> 和 <code>document.documentElement.clientHeight</code> 中提供了相同的信息。</p>
<p><del>在其他移动浏览器中， <code>document.documentElement.clientWidth</code> 和 <code>document.documentElement.clientHeight</code> 返回的布局视口的大小，即渲染页面的实际大小。</del></p>
<blockquote>
<p>:: 经测试，这两个属性在移动浏览器上返回的为可见视口大小。页面实际大小放在了 <code>document.body</code> 对象中。</p>
</blockquote>
<p>布局视口是相对于可见视口的概念，可见视口只能显示整个页面的一小部分 。 Mobile Internet Explorer 把布局视口的信息保存在 <code>document.body.clientWidth</code> 和 <code>document.body.clientHeight</code> 中。</p>
<p>浏览器窗口尺寸通常无法满足完整显示整个页面，为此用户可以通过滚动在有限的视口（<strong>可见视口</strong>）中查看文档。度量文档相对于视口滚动距离的属性有两对，返回相等的值： <code>window.pageXoffset/window.scrollX</code> 和 <code>window.pageYoffset/window.scrollY</code>。</p>
<p>window 的另一个属性 <code>screen</code> 对象，是为数不多的几个在编程中很少用的 JavaScript 对象。这个对象中保存的纯粹是客户端能力信息，也就是浏览器窗口外面的客户端显示器的信息，比如像素宽度和像素高度。每个浏览器都会在 <code>screen</code> 对象上暴露不同的属性。</p>
<table>
<thead>
<tr>
<th>属 性</th>
<th>说 明</th>
</tr>
</thead>
<tbody>
<tr>
<td>availHeight  <br>availLeft  <br>availTop  <br>availWidth  <br>colorDepth  <br>height  <br>left  <br>pixelDepth  <br>top  <br>width  <br>orientation</td>
<td>屏幕像素高度减去系统组件高度（只读）  <br>没有被系统组件占用的屏幕的最左侧像素（只读）  <br>没有被系统组件占用的屏幕的最顶端像素（只读）  <br>屏幕像素宽度减去系统组件宽度（只读）  <br>表示屏幕颜色的位数；多数系统是 32（只读）  <br>屏幕像素高度  <br>当前屏幕左边的像素距离  <br>屏幕的位深（只读）  <br>当前屏幕顶端的像素距离  <br>屏幕像素宽度  <br>返回 Screen Orientation API 中屏幕的朝向</td>
</tr>
</tbody>
</table>
<h2 id="窗口和视口">窗口和视口</h2>
<p><code>&gt; 浏览器中的尺寸大小和位置</code></p>
<p>![[assets/distance2.png]]</p>
<p>如上图所示，我们对所要遇到的窗口和视口进行了简单的标准。其中：</p>
<ul>
<li>S 屏幕窗口</li>
<li>B 浏览器窗口</li>
<li>P 页面 = L 布局视口  + 滚动条</li>
<li>V 可见视口（即上个章节中描述的 viewport ）</li>
<li>E 元素</li>
</ul>
<p>对于浏览器窗口（B 窗口）而言，其窗口大小用 <code>outerWidth</code> 和 <code>outerHeight</code> 来表示，我们称之为浏览器窗口的实际大小。该窗口的位置则由其到屏幕左上角的距离来表示，分别为 <code>screenLeft</code> 和 <code>screenTop</code> 。</p>
<p>页面视口 P （不包含浏览器边框和工具栏等，包含滚动条）的大小由 <code>innerWidth</code> 和 <code>innerHeight</code> 表示。它的位置是由浏览器位置及边框、工具栏等的尺寸计算而来的。</p>
<p>布局视口 L（页面视口 P 除去滚动条）的大小由 <code>document.documentElement.clientWidth</code> 和  <code>document.documentElement.clientHeight</code> 决定。确切地说，在桌面端使用“可见视口”好一些，因为在移动端布局视口指的是实际渲染页面的大小（由 <code>document.body.clientWidth</code> 和 <code>document.body.clientHeight</code> 表示）。</p>
<blockquote>
<p>:: 一般情况下，可以认为页面视口和布局视口是同一个东东。</p>
</blockquote>
<blockquote>
<p>💡 布局视口是相对于可见视口的概念，可见视口只能显示整个页面的一小部分 。</p>
</blockquote>
<p>文档内容往往不能在可见视口中完整地展示出来，这里就需要我们滚动页面。浏览器允许文档在可见视口的 X 轴和 Y 轴方向滚动。其相对于视口滚动距离的属性有两对，返回相等的值： <code>window.pageXoffset /window.scrollX</code> 和 <code>window.pageYoffset / window.scrollY</code>。</p>
<p>关于元素视口，即页面中的 <code>HTMLElement</code> 大小及位置，比较重要，我们放在下个章节单独说明。</p>
<h2 id="元素视口">元素视口</h2>
<p>如图所示，E 视口即粉色条框是一个描述 GitHub 仓库的项目框。</p>
<p>HTMLElement 接口表示所有的 HTML 元素。一些 HTML 元素直接实现了 HTMLElement 接口，其他的间接实现 HTMLElement 接口。详见 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLElement">HTMLElement - Web API | MDN</a>。</p>
<h3 id="clientwidth-和-clientheight">clientWidth 和 clientHeight</h3>
<p>![[assets/Pasted image 20240510090654.png]]</p>
<p>只读属性 <strong><code>Element.clientWidth</code></strong> 对于内联元素以及没有 CSS 样式的元素为 0；否则，它是元素内部的宽度（以像素为单位）。该属性包括内边距（padding），但不包括边框（border）、外边距（margin）和垂直滚动条（如果存在）。</p>
<p>只读属性 <strong><code>Element.clientHeight</code></strong> 对于没有定义 CSS 或者内联布局盒子的元素为 0；否则，它是元素内部的高度（以像素为单位），包含内边距，但不包括边框、外边距和水平滚动条（如果存在）。</p>
<p><code>clientHeight</code> 可以通过 CSS <code>height</code> + CSS <code>padding</code> - 水平滚动条高度（如果存在）来计算。</p>
<h3 id="clientleft-和-clienttop">❓clientLeft 和 clientTop</h3>
<p><strong><code>clientLeft</code></strong> 表示一个元素的左边框的宽度，以像素表示。<code>clientLeft</code> 不包括左外边距和左内边框。<code>clientLeft</code> 是只读的。</p>
<p><strong><code>clientTop</code></strong> 一个元素顶部边框的宽度（以像素表示）。不包括顶部外边距或内边框。<code>clientTop</code> 是只读的。</p>
<h3 id="scrollwidth-和-scrollheight">scrollWidth 和 scrollHeight</h3>
<p><strong><code>Element.scrollWidth</code></strong> 这个只读属性是元素内容宽度的一种度量，包括由于 overflow 溢出而在屏幕上不可见的内容。</p>
<p>![[assets/Pasted image 20240510091057.png]]</p>
<p><strong><code>scrollWidth</code></strong> 值等于元素在不使用水平滚动条的情况下适合视口中的所有内容所需的最小宽度。宽度的测量方式与 <code>clientWidth</code> 相同：它包含元素的内边距，但不包括边框，外边距或垂直滚动条（如果存在）。它还可以包括伪元素的宽度，例如 <code>::before</code> 或 <code>::after</code>。如果元素的内容可以适合而不需要水平滚动条，则其 <code>scrollWidth</code> 等于 <code>clientWidth</code> 。</p>
<p><strong><code>Element.scrollHeight</code></strong> 只读属性是一个元素内容高度的度量，包括由于溢出导致的视图中不可见内容。</p>
<p><code>scrollHeight</code> 的值等于该元素在不使用滚动条的情况下为了适应视口中所用内容所需的最小高度。高度的度量方式与 <code>clientHeight</code> 相同：包括元素的内边距，但不包括元素的边框、外边距以及水平滚动条（如果存在）。它也包括 <code>::before</code> 和 <code>::after</code> 这样的伪元素的高度。如果元素的内容不需要垂直滚动条就可以容纳，则其 <code>scrollHeight</code> 等于 <code>clientHeight</code>。</p>
<h3 id="scrollleft-和-scrolltop">scrollLeft 和 scrollTop</h3>
<p><strong><code>Element.scrollLeft</code></strong> 属性可以读取或设置元素滚动条到元素左边的距离。</p>
<p><strong><code>Element.scrollTop</code></strong> 属性可以获取或设置一个元素的内容垂直滚动的像素数。</p>
<p>一个元素的 <code>scrollTop</code> 值是这个元素的<strong>内容顶部</strong>（卷起来的）到它的视口可见内容（的顶部）的距离的度量。当一个元素的内容没有产生垂直方向的滚动条，那么它的 <code>scrollTop</code> 值为 <code>0</code>。</p>
<p>这个 <strong><code>Element.scrollLeftMax</code></strong> 是只读的属性返回一个 <code>Number</code> 表示一个元素横向滚动条可滚动的最大距离。<strong><code>Element.scrollTopMax</code></strong> 返回一个只读 Number 表示元素所能滚动的最大高度。这两个属性还没纳入规范。</p>
<h3 id="offsetwidth-和-offsetheight">offsetWidth 和 offsetHeight</h3>
<p>![[assets/Pasted image 20240510085915.png]]</p>
<p><strong><code>HTMLElement.offsetWidth</code></strong> 是一个只读属性，返回一个元素的布局宽度。一个典型的（译者注：各浏览器的 <code>offsetWidth</code> 可能有所不同）<code>offsetWidth</code> 是测量包含元素的边框 (border)、水平线上的内边距 (padding)、竖直方向滚动条 (scrollbar)（如果存在的话）、以及 CSS 设置的宽度 (width) 的值。</p>
<p><strong><code>HTMLElement.offsetHeight</code></strong> 是一个只读属性，它返回该元素的像素高度，高度包含该元素的垂直内边距和边框，且是一个整数。通常，元素的 <code>offsetHeight</code> 是一种元素 CSS 高度的衡量标准，包括元素的边框、内边距和元素的水平滚动条（如果存在且渲染的话），不包含 <code>:before</code> 或 <code>:after</code> 等伪类元素的高度。</p>
<h3 id="offsetleft-和-offsettop">offsetLeft 和 offsetTop</h3>
<p><code>HTMLElement.offsetLeft</code> 是一个只读属性，返回当前元素左上角相对于 <code>HTMLElement.offsetParent</code> 节点的左边界偏移的像素值。</p>
<blockquote>
<p><code>HTMLElement.offsetParent</code> 是一个只读属性，返回一个指向最近的（指包含层级上的最近）包含该元素的<strong>定位元素</strong>或者最近的 <code>table, td, th, body</code> 元素。当元素的 <code>style.display</code> 设置为 &ldquo;none&rdquo; 时，<code>offsetParent</code> 返回 <code>null</code>。<code>offsetParent</code> 很有用，因为 <code>offsetTop</code> 和 <code>offsetLeft</code> 都是相对于其内边距边界的。</p>
</blockquote>
<p><code>HTMLElement.offsetTop</code> 为只读属性，它返回当前元素相对于其 <code>offsetParent</code> 元素的顶部内边距的距离。</p>
<h2 id="事件中的位置">事件中的位置</h2>
<h3 id="mouseevent">MouseEvent</h3>
<p>当定点设备的按钮（通常是鼠标的主键）在一个元素上被按下和放开时，<code>click</code> 事件就会被触发。</p>
<p>如果在一个元素上按下按钮，而将指针移到元素外再释放按钮，则在包含这两个元素的最具体的父级元素上触发事件。</p>
<p><strong><code>click</code></strong> 事件会在 <code>mousedown</code> 和 <code>mouseup</code> 事件依次触发后触发。</p>
<p><strong><code>mousedown</code></strong> 事件在定点设备（如鼠标或触摸板）按钮在元素内按下时，会在该元素上触发。</p>
<p><strong><code>mouseup</code></strong> 事件在定点设备（如鼠标或触摸板）按钮在元素内释放时，在该元素上触发。其与 <code>mousedown</code> 事件相对应。</p>
<p><strong><code>mouseenter</code></strong> 事件在定点设备（通常指鼠标）<strong>首次</strong>移动到元素的激活区域内时，在该元素上触发。</p>
<p><strong><code>mouseleave</code></strong> 事件在定点设备（通常是鼠标）的指针移出某个元素时被触发。</p>
<p><strong><code>mouseout</code></strong> 事件在定点设备（通常是鼠标）移动至元素或其子元素之外时，会在该元素上触发。当指针从一个元素移入其子元素时，因为子元素遮盖了父元素的可视区域，所以 <code>mouseout</code> 也会被触发。</p>
<p>当一个定点设备（通常指鼠标）在一个元素本身或者其子元素上移动时，<strong><code>mouseover</code></strong> 事件在该元素上触发。</p>
<p><strong><code>mousemove</code></strong> 事件在定点设备（通常指鼠标）的光标在元素内移动时，会在该元素上触发。</p>
<p>以上事件，都是 MouseEvent ，即鼠标事件。其涉及到的与光标点位置有关的属性如下：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>MouseEvent.screenX</td>
<td>鼠标指针相对于屏幕的 X 轴坐标。</td>
</tr>
<tr>
<td>MouseEvent.screenY</td>
<td>鼠标指针相对于屏幕的 Y 轴坐标。</td>
</tr>
<tr>
<td>MouseEvent.offsetX</td>
<td>鼠标指针相对于目标节点的内填充边的 X 轴坐标。</td>
</tr>
<tr>
<td>MouseEvent.offsetY</td>
<td>鼠标指针相对于目标节点的内填充边的 Y 轴坐标。</td>
</tr>
<tr>
<td>MouseEvent.pageX</td>
<td>鼠标指针相对于整个文档的 X 轴坐标。</td>
</tr>
<tr>
<td>MouseEvent.pageY</td>
<td>鼠标指针相对于整个文档的 Y 轴坐标。</td>
</tr>
<tr>
<td>MouseEvent.clientX<br>MouseEvent.x</td>
<td>鼠标指针相对于局部 DOM 元素的 X 轴坐标。</td>
</tr>
<tr>
<td>MouseEvent.clientY<br>MouseEvent.y</td>
<td>鼠标指针相对于局部 DOM 元素的 Y 轴坐标。</td>
</tr>
<tr>
<td>MouseEvent.movementX</td>
<td>鼠标指针相对于最后一次 <code>mousemove</code>事件位置的 X 轴坐标。</td>
</tr>
<tr>
<td>MouseEvent.movementY</td>
<td>鼠标指针相对于最后一次 <code>mousemove</code>事件位置的 Y 轴坐标。</td>
</tr>
</tbody>
</table>
<h3 id="touchevent">TouchEvent</h3>
<p><code>touchstart</code> 事件在一个或多个触点与触控设备表面接触时被触发。</p>
<p><code>touchend</code> 事件在一个或多个触点从触控平面上移开时触发。注意，也有可能触发 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/touchcancel_event"><code>touchcancel</code></a> 事件。</p>
<p><code>touchcancel</code> 事件在触点被中断时触发，中断方式基于特定实现而有所不同（例如，创建了太多的触点）。</p>
<p><code>touchmove</code> 事件在触点于触控平面上移动时触发。</p>
<p>以上事件，都是 TouchEvent ，即鼠标事件。其涉及到的与触摸点位置有关的属性如下：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>TouchEvent.touches</td>
<td>一个包含所有的 <code>Touch</code>对象的 <code>TouchList</code>，这些 <code>Touch</code> 对象表示当前与表面接触的触点（不论事件目标或状态变化）。</td>
</tr>
<tr>
<td>TouchEvent.targetTouches</td>
<td>一个包含所有的 <code>Touch</code>对象的 <code>TouchList</code>，这些 <code>Touch</code> 对象表示当前与触摸表面接触的触点，且触点起始于事件发生的目标元素。</td>
</tr>
<tr>
<td>TouchEvent.changedTouches</td>
<td>一个包含所有的 <code>Touch</code>对象的 <code>TouchList</code>，这些 <code>Touch</code> 对象表示在前一个 touch 事件和当前的事件之间，状态发生变化的独立触点。</td>
</tr>
<tr>
<td>这里我们附上一个 <code>Touch</code> 对象的实例，如下：</td>
<td></td>
</tr>
</tbody>
</table>
<pre tabindex="0"><code>1. clientX: 177.60000610351562
2. clientY: 118.4000015258789
3. force: 1
4. identifier: 0
5. pageX: 177.60000610351562
6. pageY: 118.4000015258789
7. radiusX: 18.399999618530273
8. radiusY: 18.399999618530273
9. rotationAngle: 0
10. screenX: 410
11. screenY: 235
</code></pre><h3 id="scroll-事件">scroll 事件</h3>
<p>当用户滚动某个元素的内容时 <code>scroll</code> 事件将会被触发。<code>Element.onscroll</code> 同等于 <code>element.addEventListener(&quot;scroll&quot; ... )</code>。</p>
<p>其中 <code>e.target.scrollTop</code> 和 <code>e.target.scrollLeft</code> 为滚动过程中元素的滚动位移。</p>
<h2 id="我要说的是">我要说的是…</h2>
<p>是不是已经晕乎乎了？放心，只需要适当的练习就可以掌握它们了。认真观察一下，不难发现，有几个词汇是经常出现的，如 screen、page、client、offset、scroll 等。弄清了它们几个的区别，基本上就可以着手开发一些你想要的功能了。</p>
<p>与 screen 相关的属性，顾名思义就是与显示器窗口有关的。如 <code>window.screen.width</code> 、<code>window.screen.height</code> 表示的就是显示器屏幕的宽、高。</p>
<p>后面元素事件中的 <code>screenX</code> 、<code>screenY</code> 便是触发事件的光标点距离显示器屏幕的 X 轴、Y 轴坐标了。</p>
<blockquote>
<p>💡 如无特殊说明，一般默认左上角为坐标原点 <code>(0, 0)</code>。</p>
</blockquote>
<p>类似，与 page 有关的是与实际文档大小有关。与 client 有关的是可见窗口区域。与 offset 相关的一般是偏移距离。与 scroll 有关的一般是滚动距离。</p>
<p>在实际开发过程中， 我们一般处理与元素事件相关的位置，多数又是与包含可定位元素的低级元素的相对位置关系。故一般使用与 offset 相关的属性的场合多比较多。</p>
<p>此类内容，还是需要在实际的练习中慢慢掌握。建议初学者，只需要在 Chrome 中练习即可，不用考虑浏览器的兼容性。</p>
<h2 id="实例分析">实例分析</h2>
<p>……</p>
    </div>

    

    <div class="container-comment-giscus">
        <script src="https://giscus.app/client.js"
        data-repo="loveminimal/comment"
        data-repo-id="R_kgDOJNJQ8g"
        data-category="General"
        data-category-id="DIC_kwDOJNJQ8s4CYl0m"
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="noborder_light"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
        </script>
</div>
</div>

        </div>
        <div id="footer"><div class="container-footer">
    

    <div class="beian">
        
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=">
            

        </a>

        
        <a href="/about" target="_blank">
            
            将喜欢的一切留在身边，这便是努力的意义
            
        </a>
    </div>

    
    <div class="info">
        
        <a href="https://github.com/loveminimal/hugo-theme-virgo">🕊️</a> 2016 - <span id="info-date"></span>
    </div>

</div></div>
        <div class="cool-after" style="
            
                background-color: rgba(255, 255, 255, 0.69); 
                backdrop-filter: saturate(180%) blur(6px);
            
            "></div>
    </body>
</html>
