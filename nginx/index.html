<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="Nginx - https://aituyaa.com/nginx/">
    <meta name="author" content="Jack - https://aituyaa.com/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>Nginx</title>
    
    <base target="_blank">
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    
    
    
    
    <link rel="stylesheet" href="https://aituyaa.com/style.min.7a1211384e00d894dc501a9708ae5fb349825c010d5348b62a8727d135f41615.css">
    
    <script>const DARK =  false ;</script>
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate cool">
        
        <div class="cool-before" style="background: url('/imgs/bg/color.jpg') left top/100% no-repeat fixed;"></div>
        <div id="header" class=""><div class="container-header">

    
    
    
    <div class="right">
        
        <h1 class="title">Nginx</h1>
    
        
        
            <div id="toc">üìú</div>
        
    </div>
</div>
</div>
        <div id="content">










<div class="container-main container-page ">

    

    
    
    
    <div class="rel">
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <div class="curtag-desc">
            <a href="https://aituyaa.com/tags/linux/"><img src="/imgs/icons/tag.svg" width="16" /> Áõ∏ÂÖ≥ÊñáÁ´†ÔºöLinux <sup>5</sup></a>
        </div>

        <div class="curtag-post">
            
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/manjaro-linux/">Manjaro Linux</a>
                </div>
                
                
            
            
                <div class="curtag-post-item curtag-post-item--active">
                    <a href="https://aituyaa.com/nginx/">Nginx</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/nginx-%E9%87%8D%E5%AE%9A%E5%90%91/">Nginx ÈáçÂÆöÂêë</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E5%8D%81%E5%88%86%E9%92%9F%E6%8E%8C%E6%8F%A1-tmux/">ÂçÅÂàÜÈíüÊéåÊè° TMUX</a>
                </div>
                
                
            
            
                <div class="curtag-post-item ">
                    <a href="https://aituyaa.com/%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85/">Ê∫êÁ†ÅÁºñËØëÂÆâË£Ö</a>
                </div>
                
                
        </div>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </div>
    
    

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="7409" width="12" height="12">
                <path
                    d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z"
                    p-id="7410" fill="#adb5bd"></path>
            </svg>
            2023-05-25&nbsp;&nbsp;&nbsp;
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="23838" width="11" height="11">
                <path
                    d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z"
                    p-id="23839" fill="#adb5bd"></path>
            </svg>
            2023-09-07&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="33866" width="12" height="12">
                <path
                    d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z"
                    fill="#adb5bd" p-id="33867"></path>
                <path
                    d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z"
                    fill="#adb5bd" p-id="33868"></path>
            </svg>
            5020 Â≠ó</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
                p-id="32892" width="12" height="12">
                <path
                    d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z"
                    p-id="32893" fill="#adb5bd"></path>
                <path
                    d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z"
                    p-id="32894" fill="#adb5bd"></path>
            </svg>
            11 ÂàÜÈíü</span>
        <div class="container-ctgtag">
	<div class="taxonomy">
		<div class="tag">
			
			
			<a href="/tags/linux">Linux</a>
			
		</div>
	</div>
</div>
        
    </div>

    <div class="toc">
        <div class="container-page-operation">
	<div class="page-operation">
		<div><a href="/"><img src="/imgs/icons/home-2.svg" alt=""></a></div>
		<div><a href="/nav"><img src="/imgs/icons/iov-navigate-1.svg" alt=""></a></div>
		<div><a href="/wiki"><img src="/imgs/icons/wiki.svg" alt=""></a></div>
		<div><a href="/tags"><img src="/imgs/icons/treetags.svg" alt=""></a></div>
		<div id="light-dark"><a><img src="/imgs/icons/moon2.svg" alt=""></a></div>
		<div><a href="#"><img src="/imgs/icons/up2.svg" alt=""></a></div>
	</div>
</div>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#ÂÖ≥‰∫é‰ª£ÁêÜ">ÂÖ≥‰∫é‰ª£ÁêÜ</a>
      <ul>
        <li><a href="#ÂçïÁÇπÊúçÂä°ÁöÑ-cs-Êû∂ÊûÑ">ÂçïÁÇπÊúçÂä°ÁöÑ C/S Êû∂ÊûÑ</a></li>
        <li><a href="#Âü∫‰∫é‰ª£ÁêÜÁöÑ-cs-Êû∂ÊûÑ">Âü∫‰∫é‰ª£ÁêÜÁöÑ C/S Êû∂ÊûÑ</a></li>
        <li><a href="#proxy-ÊòØ‰ªÄ‰πà">Proxy ÊòØ‰ªÄ‰πà</a></li>
        <li><a href="#Ê≠£Âêë‰ª£ÁêÜÂíåÂèçÂêë‰ª£ÁêÜ">Ê≠£Âêë‰ª£ÁêÜÂíåÂèçÂêë‰ª£ÁêÜ</a></li>
      </ul>
    </li>
    <li><a href="#nginx-ÈÇ£‰∫õ‰∫ã">Nginx ÈÇ£‰∫õ‰∫ã</a>
      <ul>
        <li><a href="#ÂÆâË£Ö">ÂÆâË£Ö</a></li>
        <li><a href="#ÈùôÊÄÅÁΩëÁ´ôÈÉ®ÁΩ≤">ÈùôÊÄÅÁΩëÁ´ôÈÉ®ÁΩ≤</a></li>
        <li><a href="#ÈÖçÁΩÆËôöÊãü‰∏ªÊú∫">ÈÖçÁΩÆËôöÊãü‰∏ªÊú∫</a></li>
        <li><a href="#ÂèçÂêë‰ª£ÁêÜ">ÂèçÂêë‰ª£ÁêÜ</a></li>
        <li><a href="#Ë¥üËΩΩÂùáË°°">Ë¥üËΩΩÂùáË°°</a></li>
        <li><a href="#proxypass">ProxyPass</a></li>
        <li><a href="#upstream">upstream</a></li>
      </ul>
    </li>
    <li><a href="#ÂÖ∂‰ªñ">ÂÖ∂‰ªñ</a>
      <ul>
        <li><a href="#nginx-‰∏Ä‰∏™-server-ÈÖçÁΩÆÂ§ö‰∏™-location">Nginx ‰∏Ä‰∏™ server ÈÖçÁΩÆÂ§ö‰∏™ location¬†</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>

    <div class='content  '>
        <p>Âú®ËÆ§ËØÜ„ÄÅÂ≠¶‰π† Nginx ‰πãÂâçÔºåÊàë‰ª¨ÂÖàÊù•Áúã‰∏Ä‰∏ã‰ª£ÁêÜÊòØ‰ªÄ‰πàÔºåÂ¶ÇÊûú‰Ω†Â∑≤ÁªèÈùûÂ∏∏ÁÜüÊÇâ‰ª£ÁêÜÔºåÂèØ‰ª•Áõ¥Êé•Ë∑≥Âà∞Á¨¨‰∫å‰∏™Á´†ËäÇ„ÄÇ</p>
<h2 id="ÂÖ≥‰∫é‰ª£ÁêÜ">ÂÖ≥‰∫é‰ª£ÁêÜ</h2>
<p><a href="https://blog.csdn.net/tl4832194/article/details/106642981">1</a></p>
<blockquote>
<p>Ê≥®ÔºöËØ•ËäÇÂéüÂàõÂèëÂ∏É‰∫éÊÖïËØæÁΩëÔºå‰ΩúËÄÖÔºöÂíöÂíöÂëõ„ÄÇ</p>
</blockquote>
<p>Ë¶ÅËØ¥Ê∏ÖÊ•ö‰ªÄ‰πàÊòØÂèçÂêë‰ª£ÁêÜÔºåÂÖàÊù•‰∫ÜËß£‰∏ãÊúÄÁÆÄÂçïÁöÑ C/S ÔºàClient-ServerÔºâÊû∂ÊûÑÔºåÂç≥‰ª•Âçï‰∏™ËäÇÁÇπ‰Ωú‰∏∫ÂêéÁ´Ø Server ÁöÑ C/S Êû∂ÊûÑ„ÄÇ</p>
<h3 id="ÂçïÁÇπÊúçÂä°ÁöÑ-cs-Êû∂ÊûÑ">ÂçïÁÇπÊúçÂä°ÁöÑ C/S Êû∂ÊûÑ</h3>
<p>Âú®ÊôÆÈÄöÁöÑÂºÄÂèë‰∏≠ÔºåÂçïÁÇπ Server ÁöÑÊúçÂä°ÊñπÂºèÈùûÂ∏∏Â∏∏ËßÅÔºåÊØîÂ¶Ç‰ΩøÁî® Django Ê°ÜÊû∂ÂÅöÂêéÂè∞ÊúçÂä°ÁöÑÊó∂ÂÄôÔºåÂ∞±ÂèØ‰ª•ÈÄöËøáÁÆÄÂçïÁöÑ =run server= ÂëΩ‰ª§Ëµ∑‰∏Ä‰∏™‰∏¥Êó∂ÁöÑÊúçÂä°ÔºåÊé•ÁùÄÈÄöËøáÂú∞ÂùÄÂ∞±ÂèØËÉΩËÆøÈóÆÂà∞Ëøô‰∏™ÊúçÂä°‰∫Ü„ÄÇ</p>
<blockquote>
<p>ÂΩìÁÑ∂ÔºåÂØπ‰∫é Django ËÄåË®ÄÔºå¬†<code>run server</code>¬†ÂëΩ‰ª§Âè™ÊòØÊèê‰æõÂºÄÂèëÂë®ÊúüÁöÑË∞ÉËØï‰ΩøÁî®ÁöÑ‰æøÊç∑Â∑•ÂÖ∑ÔºåÊõ¥‰∏ÄËà¨ÁöÑÊÉÖÂÜµÊòØÈÄöËøá uWSGI ÊääËøô‰∏™ Django ÊúçÂä°Ë∑ëËµ∑Êù•Ôºå‰ª•Ëé∑ÂèñÊØî¬†<code>run server</code>¬†Êõ¥Â•ΩÁöÑÊúçÂä°ÊÄßËÉΩ„ÄÇ</p>
</blockquote>
<p>![[assets/Pasted image 20230525223650.png|375]]</p>
<p>ÂØπ‰∫éËØ∑Ê±ÇÈáèÈùûÂ∏∏Â∞ëÁöÑÊúçÂä°ÔºåËøôÊ†∑ÁöÑÈÉ®ÁΩ≤‰∏ç‰ºöÊúâ‰ªÄ‰πàÈóÆÈ¢òÔºå‰ΩÜÈöèÁùÄÊúçÂä°ËØ∑Ê±ÇÈáèË∂äÊù•Ë∂äÂ§öÔºåËøôÊ†∑ÁöÑÈÉ®ÁΩ≤Êû∂ÊûÑÂ∞±ÂæàÊúâÈóÆÈ¢ò‰∫Ü„ÄÇ</p>
<p><strong>È¶ñÂÖàÔºå‰ªéÊúçÂä°Âô®ÁöÑÁâ©ÁêÜÁâπÊÄßÊù•ÁúãÔºåËøô‰∏™ÊúçÂä°Âô®ÂèØËÉΩÂ∞±‰∏çËÉΩÊîØÊåÅËøô‰πàÈ´òÁöÑËØ∑Ê±ÇÈáè„ÄÇ</strong>¬†ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂ∞±Ëø´‰ΩøÂºÄÂèëËÄÖÂéªÊääÊúçÂä°ËøÅÁßªÂà∞‰∏Ä‰∏™ CPU Êõ¥Âº∫„ÄÅÂÜÖÂ≠òÊõ¥È´òÔºåÁªºÂêàÊÄßËÉΩÊõ¥Â•ΩÁöÑÊúçÂä°Âô®„ÄÇ</p>
<p>Âú®‰∏çËÄÉËôëÊàêÊú¨ÁöÑÊù°‰ª∂‰∏ãÔºåÊÄªÂèØ‰ª•ÊâæÂà∞ÊÄßËÉΩÊõ¥Â•ΩÁöÑÊúçÂä°Âô®Êù•ÊîØÊíëÊúçÂä°ÔºåÁÑ∂ËÄåÔºåËøôÊòØ‰∏çÁé∞ÂÆûÁöÑÔºåÂú∞‰∏ªÂÆ∂‰πüÊ≤°Êúâ‰ΩôÁ≤ÆÂïä‚Ä¶‚Ä¶</p>
<p><strong>ÂÖ∂Ê¨°ÔºåÂ¶ÇÊûúÊúçÂä° Server ÂçïËäÇÁÇπÂèëÁîü‰∫ÜÊïÖÈöúÔºåÂ∞±ÂøÖÁÑ∂‰ºöÂΩ±ÂìçÊï¥‰∏™ÊúçÂä°„ÄÇ</strong>¬†Âõ†‰∏∫ÂØπ‰∫é‰ºóÂ§öÁöÑ Client ÂÆ¢Êà∑Á´ØÈÉΩÊòØËøûÊé•ÁöÑ‰∏Ä‰∏™ Server ÊúçÂä°Á´ØÔºå‰∏ÄÊó¶Ëøô‰∏™ËäÇÁÇπ‰∏çÂèØÁî®‰∫ÜÔºåÂäøÂøÖ‰ºöÂΩ±ÂìçÊâÄÊúâ‰ΩøÁî®‰∫ÜÂÆ¢Êà∑Á´ØÁöÑÁî®Êà∑„ÄÇ</p>
<p><strong>ÈÇ£‰πàÔºåÂ¶Ç‰ΩïËß£ÂÜ≥Ëøô‰∏§‰∏™ÊòæËÄåÊòìËßÅÁöÑÈóÆÈ¢òÂë¢Ôºü</strong></p>
<p>Â¶ÇÊûúÊúâ‰∏ÄÁßçÊ®™ÂêëÊãìÂ±ïÊû∂ÊûÑÔºå‰ΩøÂæóÊúçÂä°ÂèØ‰ª•ÊîØÊíëÁöÑËØ∑Ê±ÇÈáèÂèØ‰ª•ÈöèÁùÄÊúçÂä°ÁöÑÊ®™ÂêëÊãìÂ±ïÈù¢Â¢ûÂä†Â∞±Â•Ω‰∫Ü„ÄÇ</p>
<h3 id="Âü∫‰∫é‰ª£ÁêÜÁöÑ-cs-Êû∂ÊûÑ">Âü∫‰∫é‰ª£ÁêÜÁöÑ C/S Êû∂ÊûÑ</h3>
<p>‰∏ÄÁßçÂü∫‰∫é‰ª£ÁêÜÁöÑÂèØÊ®™ÂêëÊãìÂ±ïÁöÑ C/S Êû∂ÊûÑÔºåÂ¶Ç‰∏ãÔºö</p>
<p>![[assets/Pasted image 20230525223712.png|500]]</p>
<p>Âú®Ëøô‰∏™ÈÉ®ÁΩ≤ÁöÑÊû∂ÊûÑ‰∏≠ÔºåÈô§‰∫Ü Server ËäÇÁÇπÂ§ñÔºåËøòÂ§öÂá∫‰∏Ä‰∏™Âè´¬†<em>Proxy</em>¬†ÁöÑËäÇÁÇπÔºåËøô‰∏™ËäÇÁÇπÁöÑÂÅö‰ªÄ‰πàÁöÑÂë¢Ôºü</p>
<p>Proxy ËäÇÁÇπÔºåÁî®‰∫éÊääÊé•Êî∂ÁöÑÊâÄÊúâËØ∑Ê±ÇÈÉΩËΩ¨ÂèëÂà∞ÂÆÉÂêéÈù¢ÁöÑ Server ËäÇÁÇπ‰∏≠ÔºåÁÑ∂ÂêéÁ≠âÂæÖ Server ËäÇÁÇπÂ§ÑÁêÜËØ∑Ê±ÇÔºåÂÜç‰ªé Server ËäÇÁÇπÂèñÂõûÊâßË°åÁªìÊûúËøîÂõûÂà∞ Client „ÄÇÊâÄ‰ª•ÔºåÂÆûÈôÖ‰∏ä Proxy ËäÇÁÇπ‰∏çÂ§ÑÁêÜ‰ªª‰ΩïÁöÑËØ∑Ê±Ç„ÄÇ</p>
<p>‰∏ãÈù¢ËÆ©Êàë‰ª¨Êù•Áúã‰∏Ä‰∏ãÔºåËøôÁßçÊû∂ÊûÑÊòØÊÄé‰πàËß£ÂÜ≥‰∫Ü‰∏äËø∞ÈóÆÈ¢òÁöÑÔºå‰πãÂêéÂÜçÊÄùËÄÉ¬†<em>Proxy</em>¬†ÁöÑËøô‰∏™ËßíËâ≤„ÄÇ</p>
<p><strong>1. ÊúçÂä°Âô®ÊÄßËÉΩ‰∏çË∂≥ÁöÑÈóÆÈ¢ò</strong></p>
<p>![[assets/Pasted image 20230525223726.png|500]]</p>
<p>Âú®Ëøô‰∏™Êû∂ÊûÑÈáåÔºåÂÅáËÆæ Server ËäÇÁÇπ S1 ÊÄßËÉΩÂà∞ËææÁì∂È¢à‰∫ÜÔºå‰∏çËÉΩÂ§ÑÁêÜÊõ¥Â§öËØ∑Ê±Ç‰∫Ü„ÄÇÊàë‰ª¨ÂèØ‰ª•Ê∑ªÂä† Server ËäÇÁÇπ S2 ÔºåÂêåÊó∂ÂëäËØâ Proxy ËäÇÁÇπÔºåËÆ©ÂÆÉÊääÈÉ®ÂàÜÂéüÊù•ËΩ¨ÂèëÂà∞ S1 ËäÇÁÇπÁöÑËØ∑Ê±ÇËΩ¨ÂèëÂà∞ S2 ËäÇÁÇπ„ÄÇÂ¶ÇÊ≠§ÔºåÈÄöËøáÊúçÂä°ÂàÜÊµÅÂáèÂ∞ëÂéãÂäõÁöÑÊñπÊ≥ïÂ∞±ÂèØ‰ª•Ëß£ÂÜ≥ÂéüÊù• S1 ËäÇÁÇπÊÄßËÉΩ‰∏çË∂≥ÁöÑÈóÆÈ¢ò‰∫Ü„ÄÇ</p>
<p><strong>2. ÂçïÁÇπÊúçÂä°Âô®ÊåÇÊéâÁöÑÈóÆÈ¢ò</strong></p>
<p>![[assets/Pasted image 20230525223742.png|525]]</p>
<p>Âú®Ëøô‰∏™Êû∂ÊûÑÈáåÔºåÂÅáËÆæ Server ËäÇÁÇπ S1 Âíå S2 ËÉΩÂ§üÊèê‰æõÁöÑÊúçÂä°ÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇÂ¶ÇÊûú S1 ÊåÇÊéâ‰∫ÜÔºåProxy ËäÇÁÇπÂ≠òÂú®Ôºå‰∏îËÉΩÂ§üÂØüËßâÂà∞ S1 ÊåÇÊéâ‰∫ÜÁöÑËØùÔºåÂ∞±ËÆ© Proxy ËäÇÁÇπÊääÂéüÊù•Ë¶ÅËΩ¨ÂèëÁªô S1 ËäÇÁÇπÁöÑËØ∑Ê±ÇËΩ¨ÂèëÂà∞ S2 ËøõË°åÂ§ÑÁêÜÔºåÂ¶ÇÊ≠§ÔºåÈÄöËøáÊúçÂä°ÂÜó‰ΩôÁöÑÊñπÊ≥ïÂ∞±ÂèØ‰ª•Ëß£ÂÜ≥ÂéüÊù• S1 Á™ÅÁÑ∂ÊåÇÊéâÂΩ±ÂìçÊúçÂä°ÁöÑÈóÆÈ¢ò‰∫Ü„ÄÇ</p>
<p>ÈÇ£‰πàÔºåProxy ËäÇÁÇπÂà∞Â∫ïÊòØ‰ªÄ‰πàÂë¢Ôºü</p>
<h3 id="proxy-ÊòØ‰ªÄ‰πà">Proxy ÊòØ‰ªÄ‰πà</h3>
<p><strong>Proxy ÔºåÂ∞±ÊòØ‰ª£ÁêÜ„ÄÇ</strong>¬†Â¶Ç‰ΩïÁêÜËß£Âë¢Ôºü</p>
<p>Âú®Á¨¨‰∏Ä‰∏™ÈóÆÈ¢ò‰∏≠ÔºåProxy ËäÇÁÇπÈÄöËøáÊúçÂä°ÂàÜÊµÅÁöÑÊñπÊ≥ïÊù•ÂáèÂ∞ë S1 ÁöÑÂéãÂäõ„ÄÇÂØπ‰∫éÂéüÊù•Â∫îËØ•Ë¢´ S1 ÊúçÂä°ÁöÑÔºåÂç¥Áî±‰∫éË¢´ Proxy ËäÇÁÇπËΩ¨ÂèëËÄåË¢´ S2 ÊúçÂä°ÁöÑ Client ÂÆ¢Êà∑Á´ØËÄåË®ÄÔºåÂÖ∂ÂÆû Client Âπ∂‰∏çÁü•ÈÅìÂÆÉÁöÑËØ∑Ê±ÇÊòØÁî± S1 Â§ÑÁêÜÁöÑÔºåËøòÊòØÁî± S2 Â§ÑÁêÜÁöÑÔºåÂÆÉÂè™ÈúÄË¶ÅÂæÄ Proxy ËäÇÁÇπÂèëÈÄÅËØ∑Ê±ÇÂ∞±Â•Ω‰∫ÜÔºåÂâ©‰∏ãÁöÑÂ∑•‰ΩúÂ∞±Áî± Proxy ËäÇÁÇπÂéªËß£ÂÜ≥‰∫Ü„ÄÇ</p>
<p>‰πüÂ∞±ÊòØËØ¥ÔºåProxy ËäÇÁÇπÁõ∏ÂΩì‰∫é‰∏Ä‰∏™‰∏≠‰ªãÔºå‚Äú‰ª£ÁêÜ‚Äù Client ÂéªÂØªÊâæÂÆûÈôÖÁöÑ Server ËäÇÁÇπÂéªÂÆåÊàêÊúçÂä°„ÄÇ</p>
<blockquote>
<p>ËøôÁßçÊ®°ÂºèÂú®Áé∞ÂÆûÁîüÊ¥ª‰∏≠‰πüÈùûÂ∏∏Â∏∏ËßÅÔºåÂú®‰π∞ÊàøÁöÑÊó∂ÂÄôÔºåÈÄöÂ∏∏Áî±Êàø‰∫ß‰∏≠‰ªãÂ∏ÆÂä©‰Ω†ÂÆåÊàêÂíåÂçñËÄÖ‰πãÈó¥ÁöÑÊâãÁª≠ÔºåËÄå‰∏çÈúÄË¶Å‰Ω†‰∫≤Ëá™ÂéªÂ§ÑÁêÜËøô‰∫õ‰∫ãÊÉÖÔºå‰Ω†Âè™ÈúÄË¶ÅÂ§ÑÁêÜËá™Â∑±‰∏é‰∏≠‰ªã‰πãÈó¥ÁöÑÊâãÁª≠Â∞±ÂèØ‰ª•‰∫ÜÔºåËøôÈáåÁöÑ‰∏≠‰ªãÔºåÂ∞±ÂíåÊàë‰ª¨ÁöÑ Proxy ËäÇÁÇπÂ∑•‰ΩúÈùûÂ∏∏Á±ª‰ºº„ÄÇ</p>
</blockquote>
<p>ÂêåÊ†∑ÁöÑÔºåÂú®Á¨¨‰∫å‰∏™ÈóÆÈ¢ò‰∏≠ÔºåClient Âπ∂‰∏çÈúÄË¶ÅÊÑüÁü• S1 ÊòØÂê¶ËøòËÉΩÊ≠£Â∏∏Â∑•‰ΩúÔºåÂè™ÈúÄË¶ÅÊääËØ∑Ê±ÇÂèëÈÄÅÁªô Proxy ËäÇÁÇπÔºåÁî±ÂÆÉÂéªÂ∏ÆÂøôÂ§ÑÁêÜÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ</p>
<p>Áî±‰∏äÂèØÁü•ÔºåÂü∫‰∫é‰ª£ÁêÜÁöÑÂèØÊ®™ÂêëÊãìÂ±ïÁöÑ C/S Êû∂ÊûÑ‰∏≠ÔºåProxy ËäÇÁÇπÂ∞±ÊòØÊàë‰ª¨ÁöÑ‰ª£ÁêÜËäÇÁÇπ„ÄÇ</p>
<h3 id="Ê≠£Âêë‰ª£ÁêÜÂíåÂèçÂêë‰ª£ÁêÜ">Ê≠£Âêë‰ª£ÁêÜÂíåÂèçÂêë‰ª£ÁêÜ</h3>
<blockquote>
<p>:: ÂºÄÂßãÂÖàÂÅö‰∏™ÊÄªÁªìÔºö<br>
ÊâÄË∞ì‚ÄúÊ≠£Âêë‰ª£ÁêÜ‚ÄùÂÖ∂ÂÆûÂ∫îËØ•Áß∞‰∏∫‚ÄúÂÆ¢Êà∑Á´Ø‰ª£ÁêÜ‚ÄùÔºåËÄå‚ÄúÂèçÂêë‰ª£ÁêÜ‚ÄùÂ∫îËØ•Áß∞‰∏∫‚ÄúÊúçÂä°Á´Ø‰ª£ÁêÜ‚Äù„ÄÇ</p>
</blockquote>
<p>Êú¨Ë¥®‰∏äÊù•ËÆ≤Ôºå‰ª£ÁêÜÈÉΩÊòØÂ≠òÂú®‰∫é Client Âíå Server ‰πãÈó¥Ôºå‰ΩÜÊòØÁî±‰∫éÊÄßË¥®‰∏çÂêåÔºåÂèØ‰ª•ÂàÜ‰∏∫Ê≠£Âêë‰ª£ÁêÜÂíåÂèçÂêë‰ª£ÁêÜ‰∏§Áßç„ÄÇÈÇ£‰πàÔºå‰ªÄ‰πàÊòØÂèçÂêë‰ª£ÁêÜÔºü‰ªÄ‰πàÊòØÊ≠£Âêë‰ª£ÁêÜÂë¢Ôºü</p>
<p>Êàë‰ª¨Êù•Áúã‰∏Ä‰∏™Áõ¥ËßÇÁöÑ‰æãÂ≠êÔºåÂÅáËÆæÊúâ A„ÄÅB Âíå C ‰∏â‰∫∫Ôºå‰ªñ‰ª¨‰πãÈó¥Â≠òÂú®ÂÄüÈí±ÁöÑÂÖ≥Á≥ª„ÄÇ</p>
<p><strong>1. Ê≠£Âêë‰ª£ÁêÜ</strong></p>
<blockquote>
<ol>
<li>A ÈúÄË¶ÅÈí±ÔºåA Áü•ÈÅì C ÊúâÂæàÂ§öÈí±ÔºåÊÉ≥Âêë C ÂÄüÈí±Ôºõ</li>
<li>‰ΩÜÊòØ A Âíå C ÊúâÁüõÁõæÔºå‰∫éÊòØ A ÊÉ≥Âà∞ÈÄöËøá B ÂéªÂÄü C ÁöÑÈí±Ôºõ</li>
<li>B Âêë C ÂÄüÂà∞Èí±‰∫Ü ÔºåC Âπ∂‰∏çÁü•ÈÅì A ÁöÑÂ≠òÂú®Ôºõ</li>
<li>B ÂÜçÊääÂÄüÂà∞ÁöÑÈí±‰∫§Áªô A „ÄÇ</li>
</ol>
</blockquote>
<p>![[assets/Pasted image 20230525223902.png|425]]</p>
<p>Âú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåB Â∞±ÂÖÖÂΩì‰∫Ü‰ª£ÁêÜÂÄüÈí±ÁöÑËßíËâ≤ÔºåÂπ∂‰∏îÊòØ‰ª£Êõø A ÂéªÂÄüÈí±ÁöÑÔºåËøôÊ†∑Â∞±ÊòØÊ≠£Âêë‰ª£ÁêÜ„ÄÇ</p>
<blockquote>
<p>:: ÊØîÂ¶ÇÂõΩÂÜÖÊó•Â∏∏‰ΩøÁî®ÁöÑ‚ÄúÁßëÂ≠¶‰∏äÁΩë‚Äù VPN Â∑•ÂÖ∑ÔºåÂ∞±ÊòØÊ≠£Âêë‰ª£ÁêÜ‰∫Ü„ÄÇÊØîÂ¶ÇÔºåÂ∞èÊòéË¶ÅËÆøÈóÆ Twitter Ôºå‰ΩÜÊòØËÆøÈóÆ‰∏ç‰∫ÜÔºåÂ∞±ÂßîÊâò VPN Â∏Æ‰ªñËÆøÈóÆÔºåÁÑ∂ÂêéÂÜçÊääÂìçÂ∫îÁªìÊûúËøîÂõûÁªô‰ªñ„ÄÇ Twitter Âè™Áü•ÈÅìÊòØ VPN ËÆøÈóÆÂÆÉÁöÑÔºåÂπ∂‰∏çÁü•ÈÅì‰πü‰∏çÂÖ≥ÂøÉ VPN ÊääÁªìÊûúËøîÂõûÁªôË∞Å„ÄÇÂØπ‰∫éÂ∞èÊòé‰ª¨Êù•ËØ¥ÔºåVPN Â∞±ÊòØ‰ªñ‰ª¨ÁöÑËÆøÈóÆ‰ª£ÁêÜÔºåÂç≥Ê≠£Âêë‰ª£ÁêÜ„ÄÇ</p>
</blockquote>
<p><strong>2. ÂèçÂêë‰ª£ÁêÜ</strong></p>
<blockquote>
<ol>
<li>A ÈúÄË¶ÅÈí±ÔºåC ÊúâÂæàÂ§öÈí±ÔºåA ‰∏çÁü•ÈÅì C ÊúâÂæàÂ§öÈí±Ôºõ</li>
<li>A Êâæ B ÂÄüÈí±Ôºõ</li>
<li>B Áü•ÈÅì C ÊúâÂæàÂ§öÈí±Ôºõ</li>
<li>B Âêë C ÂÄüÈí±ÔºåÂπ∂ÊääÂÄüÂà∞ÁöÑÈí±Áªô A ÔºåËÄåÊ≤°Êúâ‰ΩøÁî®Ëá™Â∑±ÁöÑÈí±ÂÄüÁªô A Ôºõ</li>
<li>A ÊãøÂà∞Èí±ÂêéÔºå‰ª•‰∏∫Èí±ÊòØ B ÁöÑÔºåA ‰∏çÁü•ÈÅì C ÁöÑÂ≠òÂú®„ÄÇ</li>
</ol>
</blockquote>
<p>![[assets/Pasted image 20230525223922.png|525]]</p>
<p>Âú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåB ‰πüÂÖÖÂΩì‰∫Ü‰ª£ÁêÜ‰ª£ÁêÜÂÄüÈí±ÁöÑËßíËâ≤Ôºå‰∏çËøáËøôÊ¨°‰∏çÊòØ‰ª£Êõø A ÂéªÂÄüÁöÑÔºåËÄåÊòØÁî® C ÁöÑÈí±ÂÄüÁªô A ÁöÑÔºåÊç¢Ë®Ä‰πãÂç≥ÊòØ‰ª£Êõø C Â∞ÜÈí±‰ª£Áªô‰∫Ü A ÔºåËøôÂ∞±ÊòØÂèçÂêë‰ª£ÁêÜ„ÄÇ</p>
<blockquote>
<p>:: ÂêåÊ†∑ÈÉΩÊòØ A ÂÄüÈí±Ôºö</p>
<p>Ê≠£Âêë‰ª£ÁêÜÊòØ A Âßî‰ªª B ÂéªÂÄü„ÄÇB ÂéªÂÄüÈí±ÔºåÂÄüÈí±ÁöÑ‰∫∫Âè™Áü•ÈÅìÈí±ÂÄüÁªô‰∫Ü B ÔºåÂπ∂‰∏çÁü•ÈÅì„ÄÅ‰πü‰∏çÂÖ≥ÂøÉ B ÊãøÊù•ÂÅö‰ªÄ‰πàÁî®„ÄÇ</p>
<p>ÂèçÂêë‰ª£ÁêÜÊòØ A ÂéªÂêë B ÂÄüÈí±ÔºåA Âπ∂‰∏çÁü•ÈÅì„ÄÅ‰πü‰∏çÂÖ≥ÂøÉ B ÁöÑÈí±ÊòØ‰ªéÂì™ÂÑøÊù•ÁöÑ„ÄÇ</p>
</blockquote>
<p><strong>3. ‰∏§ËÄÖÂå∫Âà´</strong></p>
<p>1ÔºâÊúçÂä°ÂØπË±°‰∏çÂêåÔºö</p>
<ul>
<li>Ê≠£Âêë‰ª£ÁêÜÔºå‰ª£ÁêÜÁöÑÊòØÂÆ¢Êà∑Á´ØÔºå‰πüÂ∞±ÊòØ‰æãÂ≠ê‰∏≠ÁöÑ A ÔºåÊúçÂä°Á´ØÂπ∂‰∏çÁü•ÈÅìÂÆûÈôÖÂèëËµ∑ËØ∑Ê±ÇÁöÑÂÆ¢Êà∑Á´ØÔºõ</li>
<li>ÂèçÂêë‰ª£ÁêÜÔºå‰ª£ÁêÜÁöÑÊòØÊúçÂä°Á´ØÔºå‰πüÂ∞±ÊòØ‰æãÂ≠ê‰∏≠ÁöÑ C ÔºåÂÆ¢Êà∑Á´ØÂπ∂‰∏çÁü•ÈÅìÂÆûÈôÖÊèê‰æõÊúçÂä°ÁöÑÊúçÂä°Á´Ø„ÄÇ</li>
</ul>
<p>![[assets/Pasted image 20230525224054.png|600]]</p>
<p><code>FigureÔºöÊ≠£Âêë‰ª£ÁêÜ</code></p>
<p>![[assets/Pasted image 20230525224112.png|600]]</p>
<p><code>FigureÔºöÂèçÂêë‰ª£ÁêÜ</code></p>
<p>2ÔºâÂÆâÂÖ®Ê®°Âûã‰∏çÂêåÔºö</p>
<ul>
<li>Ê≠£Âêë‰ª£ÁêÜÔºåÂÖÅËÆ∏ÂÆ¢Êà∑Á´ØÈÄöËøáÂÆÉËÆøÈóÆ‰ªªÊÑèÁΩëÁ´ôÂπ∂‰∏îÈöêËóèÂÆ¢Êà∑Á´ØËá™Ë∫´ÔºåÂõ†Ê≠§ÂøÖÈ°ªÈááÂèñÂÆâÂÖ®Êé™ÊñΩ‰ª•Á°Æ‰øù‰ªÖ‰∏∫ÊéàÊùÉÁöÑÂÆ¢Êà∑Á´ØÊèê‰æõÊúçÂä°Ôºõ</li>
<li>ÂèçÂêë‰ª£ÁêÜÔºåÂØπÂ§ñÈÉΩÊòØÈÄèÊòéÁöÑÔºåËÆøÈóÆËÄÖÂπ∂‰∏çÁü•ÈÅìËá™Â∑±ËÆøÈóÆÁöÑÊòØ‰ª£ÁêÜÔºåÂπ∂‰∏çÁü•ÈÅìÊúçÂä°ËäÇÁÇπÁöÑÂ≠òÂú®ÔºåËÆ§‰∏∫Â§ÑÁêÜËØ∑Ê±ÇÁöÑÂ∞±ÊòØ‰ª£ÁêÜËäÇÁÇπ„ÄÇ</li>
</ul>
<p>ÊÄªËÄåË®Ä‰πãÔºåÊ≠£Âêë‰ª£ÁêÜÊòØ‰ªéÂÆ¢Êà∑Á´ØÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÊúçÂä°‰∫éÂ±ÄÂüüÁΩëÁî®Êà∑Ôºå‰ª•ËÆøÈóÆÈùûÁâπÂÆöÁöÑÊúçÂä°ÔºåÂÖ∂‰∏≠ÊúÄÂÖ∏ÂûãÁöÑ‰æãÂ≠êÂ∞±ÊòØÁøªÂ¢ôÔºõÂèçÂêë‰ª£ÁêÜÊ≠£Â•Ω‰∏éÊ≠§Áõ∏ÂèçÔºå‰ªéÊúçÂä°Á´ØÁöÑËßíÂ∫¶Âá∫ÂèëÔºåÊúçÂä°‰∫éÊâÄÊúâÁî®Êà∑ÔºåÈöêËóèÂÆûÈôÖÁöÑÊúçÂä°ËäÇÁÇπÔºåÊúçÂä°ËäÇÁÇπÁöÑÊû∂ÊûÑÂØπÁî®Êà∑ÈÄèÊòéÔºå‰ª•‰ª£ÁêÜËäÇÁÇπÁªü‰∏ÄÂØπÂ§ñÊúçÂä°„ÄÇ</p>
<h2 id="nginx-ÈÇ£‰∫õ‰∫ã">Nginx ÈÇ£‰∫õ‰∫ã</h2>
<p><a href="https://blog.csdn.net/nanhuaibeian/article/details/106927143">2</a></p>
<p>![[assets/Pasted image 20230525224144.png|325]]</p>
<p>‰∫ÜËß£‰∫Ü‰ªÄ‰πàÊòØ‰ª£ÁêÜÔºå‰∏ãÈù¢Êàë‰ª¨Ë¶ÅËøõÂÖ•Ê≠£È¢òËÆ§ËØÜ‰∏ã Nginx ‰∫Ü„ÄÇ</p>
<p>Nginx ÊòØÂºÇÊ≠•Ê°ÜÊû∂ÁöÑÁΩëÈ°µÊúçÂä°Âô®Ôºå‰πüÂèØ‰ª•Áî®‰ΩúÂèçÂêë‰ª£ÁêÜ„ÄÅË¥üËΩΩÂπ≥Ë°°Âô®Âíå HTTP ÁºìÂ≠òÔºåËØ•ËΩØ‰ª∂Áî±¬†<em>‰ºäÊààÂ∞î¬∑Â°ûÁ¥¢ËÄ∂Â§´</em>¬†ÂàõÂª∫Âπ∂‰∫é 2004 Âπ¥Á´ôÈ¶ñÊ¨°ÂÖ¨ÂºÄÂèëÂ∏ÉÔºåÂÆòÊñπÊµãËØï nginx ËÉΩÂ§üÊîØÊîØÊíë‰∫î‰∏áÂπ∂ÂèëÈìæÊé•ÔºåÂπ∂‰∏î CPU „ÄÅÂÜÖÂ≠òÁ≠âËµÑÊ∫êÊ∂àËÄóÈùûÂ∏∏‰ΩéÔºåËøêË°åÈùûÂ∏∏Á®≥ÂÆö„ÄÇ</p>
<p>Nginx Ëøô‰πàÂº∫Âä≤ÔºåÈÉΩÊúâ‰∫õ‰ªÄ‰πàÂ∫îÁî®Âú∫ÊôØÂë¢ÔºüÂ¶Ç‰∏ãÔºö</p>
<ul>
<li>Http ÊúçÂä°Âô®„ÄÇNginx ÂèØ‰ª•Áã¨Á´ãÊèê‰æõ http ÊúçÂä°ÔºåÁî®ÂÅöÁΩëÈ°µÈùôÊÄÅÊúçÂä°Âô®Ôºõ</li>
<li>ËôöÊãü‰∏ªÊú∫„ÄÇNginx ÂèØ‰ª•ÂÆûÁé∞Âú®‰∏ÄÂè∞ÊúçÂä°Âô®ËôöÊãüÂá∫Â§ö‰∏™ÁΩëÁ´ôÔºåÂ¶Ç‰∏™‰∫∫ÁΩëÁ´ô‰ΩøÁî®ÁöÑËôöÊãü‰∏ªÊú∫Ôºõ</li>
<li>ÂèçÂêë‰ª£ÁêÜ„ÄÅË¥üËΩΩÂùáË°°„ÄÇNginx ÂèØ‰ª•ÂÆûÁé∞ËØ∑Ê±ÇÂàÜÊµÅÔºåÈÅøÂÖçÂçïÁÇπÊúçÂä°Âô®ÂÆïÊú∫ÂΩ±ÂìçÊúçÂä°„ÄÇ</li>
</ul>
<h3 id="ÂÆâË£Ö">ÂÆâË£Ö</h3>
<p>‚Üí ÂÖ∑‰ΩìÂÆâË£ÖËøáÁ®ãÂèØ‰ª•ÂèÇËÄÉ<a href="https://blog.csdn.net/nanhuaibeian/article/details/106916313">ËØ•ÈìæÊé•</a>„ÄÇ</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ÂáÜÂ§áÂ∑•‰Ωú</span>
</span></span><span style="display:flex;"><span>yum install gcc-c++                     <span style="color:#998;font-style:italic"># ÂÆâË£ÖÈúÄË¶ÅÁöÑ gcc ÁéØÂ¢É</span>
</span></span><span style="display:flex;"><span>yum install -y pcre pcre-devel          <span style="color:#998;font-style:italic"># ÂÆâË£Ö perl ÂÖºÂÆπÁöÑÊ≠£ÂàôË°®ËææÂºèÂ∫ì</span>
</span></span><span style="display:flex;"><span>yum install -y zlib zlib-devel          <span style="color:#998;font-style:italic"># nginx ‰ΩøÁî® zlib ÂØπ http ÂåÖËøõË°å gzip</span>
</span></span><span style="display:flex;"><span>yum install -y openssl openssl-devel    <span style="color:#998;font-style:italic"># ÊîØÊåÅ https</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ‰∏ãËΩΩÂÆâË£Ö nginx - http://nginx.org</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ÂèØ‰ª•‰øÆÊîπ‰∏∫‰Ω†Ë¶ÅÁöÑÁâàÊú¨ÔºåÁõÆÂâçÊúÄÂâç‰∏∫ 1.19.3</span>
</span></span><span style="display:flex;"><span>wget http://nginx.org/download/nginx-1.8.0.tar.gz
</span></span><span style="display:flex;"><span>tar zxvf nginx-1.8.0.tar.gz
</span></span><span style="display:flex;"><span><span style="color:#0086b3">cd</span> nginx-1.8.0
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ‰ΩøÁî® configure ÂëΩ‰ª§ÂàõÂª∫ makeFile Êñá‰ª∂</span>
</span></span><span style="display:flex;"><span>./configure --prefix<span style="color:#000;font-weight:bold">=</span>/usr/local/nginx   <span style="color:#998;font-style:italic"># ÊåáÂêëÂÆâË£ÖÁõÆÂΩï</span>
</span></span><span style="display:flex;"><span>make <span style="color:#000;font-weight:bold">&amp;&amp;</span> make install
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># Nginx ÁöÑÂêØÂä®ÂíåËÆøÈóÆÔºö</span>
</span></span><span style="display:flex;"><span><span style="color:#0086b3">cd</span> nginx                        <span style="color:#998;font-style:italic"># ËøõÂÖ• nginx ÂÆâË£ÖÁõÆÂΩï</span>
</span></span><span style="display:flex;"><span><span style="color:#0086b3">cd</span> sbin <span style="color:#000;font-weight:bold">&amp;&amp;</span> ./nginx              <span style="color:#998;font-style:italic"># ËøõÂÖ• nginx ÁöÑÊâßË°åÁõÆÂΩïÂπ∂ÂêØÂä® ./nginx</span>
</span></span><span style="display:flex;"><span>ps aux | grep nginx             <span style="color:#998;font-style:italic"># ÂêØÂä®ÂêéÂè∞Êü•ÁúãËøõÁ®ã</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># Nginx ÁöÑ‰∏Ä‰∫õÂ∏∏Áî®Êìç‰ΩúÔºö</span>
</span></span><span style="display:flex;"><span>./nginx -s stop                 <span style="color:#998;font-style:italic"># ÂÅúÊ≠¢ nginx</span>
</span></span><span style="display:flex;"><span>./nginx -s quit                 <span style="color:#998;font-style:italic"># Âº∫Âà∂ÂÅúÊ≠¢ nginx</span>
</span></span><span style="display:flex;"><span>./nginx -t                      <span style="color:#998;font-style:italic"># Ê†°È™å nginx ÈÖçÁΩÆÊ≠£Á°Æ‰∏éÂê¶</span>
</span></span><span style="display:flex;"><span>./nginx -s reload               <span style="color:#998;font-style:italic"># ÈáçÂêØ nginxÔºåÁî®‰∫é‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÂêéÊõ¥Êñ∞ nginx Áä∂ÊÄÅ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÈùôÊÄÅÁΩëÁ´ôÈÉ®ÁΩ≤">ÈùôÊÄÅÁΩëÁ´ôÈÉ®ÁΩ≤</h3>
<p>Â∞ÜÊàë‰ª¨ÁöÑÁΩëÈ°µÂÜÖÂÆπÔºàÂÅáËÆæ‰∏∫¬†<code>index</code>¬†Êñá‰ª∂Â§π Ôºâ‰∏ä‰º†Âà∞ÊúçÂä°Âô®ÁöÑ¬†<code>/usr/local/nginx</code>¬†‰∏ãÔºåÂπ∂Êõ¥Êñ∞¬†<code>/usr/local/nginx/conf</code>¬†‰∏ãÁöÑ¬†<code>nginx.conf</code>¬†ÈÖçÁΩÆÊñá‰ª∂ÔºåÂ¶Ç‰∏ãÔºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>worker_processes 1;
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>http <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>	server <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		listen      80;
</span></span><span style="display:flex;"><span>		server_name localhostÔºõ
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		location / <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			root  index;                <span style="color:#998;font-style:italic"># ÁõÆÂΩïÂêçÁß∞</span>
</span></span><span style="display:flex;"><span>			index index.html index.htm; <span style="color:#998;font-style:italic"># Êñá‰ª∂ÂêçÁß∞</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		...
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÈáçÂêØ Nginx Âç≥ÂèØÔºåÊâìÂºÄÊúçÂä°Âô®ÁöÑ IP Âç≥ÂèØËÆøÈóÆ„ÄÇ</p>
<h3 id="ÈÖçÁΩÆËôöÊãü‰∏ªÊú∫">ÈÖçÁΩÆËôöÊãü‰∏ªÊú∫</h3>
<p>Ôºà1Ôºâ‰∏ä‰º†ÈùôÊÄÅÁΩëÁ´ôÔºö</p>
<ul>
<li>Â∞Ü¬†<code>index</code>¬†ÁõÆÂΩï‰∏ä‰º†Ëá≥¬†<code>/usr/local/nginx/index</code>¬†‰∏ãÔºõ</li>
<li>Â∞Ü¬†<code>regist</code>¬†ÁõÆÂΩï‰∏ä‰º†Ëá≥¬†<code>/usr/local/nginx/regist</code>¬†‰∏ã„ÄÇ</li>
</ul>
<p>Ôºà2Ôºâ‰øÆÊîπ Nginx ÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ÈÖçÁΩÆ index ËÆøÈóÆËµÑÊ∫ê</span>
</span></span><span style="display:flex;"><span>server <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	listen        80;           <span style="color:#998;font-style:italic"># ÁõëÂê¨Á´ØÂè£</span>
</span></span><span style="display:flex;"><span>	server_name   localhost;    <span style="color:#998;font-style:italic"># ÂüüÂêçÊàñ IP</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	location / <span style="color:#000;font-weight:bold">{</span>                <span style="color:#998;font-style:italic"># ËÆøÈóÆË∑ØÂæÑÈÖçÁΩÆ</span>
</span></span><span style="display:flex;"><span>		root      index;
</span></span><span style="display:flex;"><span>		index     index.html index.htm;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ÈÖçÁΩÆ regist ËÆøÈóÆËµÑÊ∫ê</span>
</span></span><span style="display:flex;"><span>server <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	listen        81;
</span></span><span style="display:flex;"><span>	server_name   localhost;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	location / <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		root regist;
</span></span><span style="display:flex;"><span>		index regist.html;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Ôºà3ÔºâÈáçÂêØ Nginx ÔºåÂèØ‰ª•ÈÄöËøá 80Ôºå81 ËÆøÈóÆ‰∏çÂêåÁöÑËµÑÊ∫ê„ÄÇ</p>
<p>Áªº‰∏äÔºåÂ∞±ÂÆûÁé∞‰∫Ü‰∏ÄÂè∞ËôöÊãü‰∏ªÊú∫ÈÉ®ÁΩ≤‰∏§‰∏™È°πÁõÆÔºå‰∏Ä‰∏™ Nginx ËôöÊãüÂá∫Êù•‰∫Ü‰∏§‰∏™‰∏ªÊú∫ÔºåÂÆûÁé∞‰∫ÜÁ´ØÂè£Âè∑ÈÖçÁΩÆËôöÊãü‰∏ªÊú∫„ÄÇ</p>
<p>ÂΩìÁÑ∂ÔºåËøòÂèØ‰ª•ÈÄöËøáÂüüÂêçÈÖçÁΩÆËôöÊãü‰∏ªÊú∫¬†ÔºåÂ¶Ç‰∏ãÔºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ÈÖçÁΩÆ index ËÆøÈóÆËµÑÊ∫ê</span>
</span></span><span style="display:flex;"><span>server <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	listen        80;             <span style="color:#998;font-style:italic"># ÁõëÂê¨Á´ØÂè£</span>
</span></span><span style="display:flex;"><span>	server_name   www.travel.com; <span style="color:#998;font-style:italic"># ÂüüÂêçÊàñ IP</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	location / <span style="color:#000;font-weight:bold">{</span>                  <span style="color:#998;font-style:italic"># ËÆøÈóÆË∑ØÂæÑÈÖçÁΩÆ</span>
</span></span><span style="display:flex;"><span>		root      index;
</span></span><span style="display:flex;"><span>		index     index.html index.htm;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># ÈÖçÁΩÆ regist ËÆøÈóÆËµÑÊ∫ê</span>
</span></span><span style="display:flex;"><span>server <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	listen        80;             <span style="color:#998;font-style:italic"># Á´ØÂè£Âè∑Áõ∏Âêå</span>
</span></span><span style="display:flex;"><span>	server_name   www.regist.com; <span style="color:#998;font-style:italic"># ÂüüÂêç‰∏çÂêåÔºå‰ª•Ê≠§ËøõË°åÂå∫ÂàÜ</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	location / <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		root regist;
</span></span><span style="display:flex;"><span>		index regist.html;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÂèçÂêë‰ª£ÁêÜ">ÂèçÂêë‰ª£ÁêÜ</h3>
<p>ËøôÈáåÊàë‰ª¨Â∞ÜÂÆûÁé∞Â•ΩÁöÑÊ°à‰æãÔºàwar ÂåÖÔºâÈÉ®ÁΩ≤Âà∞ÊúçÂä°Âô®ÁöÑ Tomcat ‰∏≠ÁöÑÊ†πÁõÆÂΩï‰∏ãÔºö</p>
<ul>
<li>‰∏∫‰∫ÜÊìç‰ΩúÊñπ‰æøÔºà‰∏çÈúÄË¶ÅËæìÂÖ•ÂØπÂ∫îÁöÑÈ°πÁõÆÂêçÁß∞ËÆøÈóÆÔºâÂ∞ÜÈ°πÁõÆÂëΩÂêç‰∏∫¬†<code>ROOT.war</code>¬†Ôºõ</li>
<li>Â∞ÜÊúçÂä°Âô®¬†<code>/usr/local/tomcat/apache-tomcat-7.0.57/webapps</code>¬†‰∏ãÁöÑÂÜÖÂÆπÂà†Èô§ÔºåÂ∞ÜÊâìÂ•ΩÁöÑÂåÖÂØºÂÖ•Âç≥ÂèØ„ÄÇ</li>
</ul>
<p>Ê≠§Êó∂ÔºåËæìÂÖ•Áõ∏Â∫î IP:Port Â¶Ç¬†<code>192.168.245.129:8080</code>¬†Âç≥ÂèØÊ≠£Â∏∏ËÆøÈóÆ„ÄÇ</p>
<p>Êé•‰∏ãÊù•ÔºåÊàë‰ª¨ÁúãÁúãÂ¶Ç‰ΩïÁî® Nginx ÈÖçÁΩÆÂèçÂêë‰ª£ÁêÜÔºö</p>
<p>![[assets/Pasted image 20230525224253.png]]</p>
<p>ÈáçÊñ∞ÂêØÂä® Nginx ÔºåËæìÂÖ•¬†<code>www.travel.com</code>¬†Âç≥ÂèØÂÆûÁé∞ËÆøÈóÆ„ÄÇ</p>
<h3 id="Ë¥üËΩΩÂùáË°°">Ë¥üËΩΩÂùáË°°</h3>
<p>‰ªÄ‰πàÊòØË¥üËΩΩÂùáË°°Âë¢Ôºü</p>
<p>Ë¥üËΩΩÂùáË°°Ôºài.e. Load BalanceÔºâÔºåÂ∞±ÊòØÂàÜÊëäÂà∞Â§ö‰∏™Êìç‰ΩúÂçïÂÖÉ‰∏äËøõË°åÊâßË°åÔºå‰æãÂ¶Ç Web ÊúçÂä°Âô®„ÄÅFTP ÊúçÂä°Âô®„ÄÅ‰ºÅ‰∏öÂÖ≥ÈîÆÂ∫îÁî®ÊúçÂä°Âô®Á≠âÔºå‰ªéËÄåÂÖ±ÂêåÂÆåÊàêÂ∑•‰Ωú‰ªªÂä°„ÄÇ</p>
<p>![[assets/Pasted image 20230525224305.png]]</p>
<p>ÂÆûÈôÖÂ∫îËØ•ÈÉ®ÁΩ≤Âà∞‰∏çÂêåÁöÑÊúçÂä°Âô®‰∏äÔºåËøôÈáå‰∏∫‰∫ÜÊºîÁ§∫Êñπ‰æøÔºåÂ∞±Âú®Âêå‰∏ÄÂè∞ÊúçÂä°Âô®ÈÖçÁΩÆ‰∏â‰∏™ Tomcat „ÄÇ</p>
<p>Â∞ÜÂàöÊâçÂ≠òÊîæÂ∑•Á®ãÁöÑ tomcat Â§çÂà∂‰∏â‰ªΩÔºå‰øÆÊîπÁ´ØÂè£ÂàÜÂà´‰∏∫ 8080Ôºå8081Ôºå8082 Ôºå‰øÆÊîπ¬†<code>server.xml</code>¬†ÁöÑÁ´ØÂè£ÔºåÂàÜÂà´ÂêØÂä®Ëøô‰∏â‰∏™ tomcat ÊúçÂä°„ÄÇ</p>
<p>ÈÖçÁΩÆË¥üËΩΩÂùáË°°Ôºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>worker_process 1;
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>http <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	...
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic"># ÈÖçÁΩÆË¶Å‰ª£ÁêÜÁöÑÁΩëÂùÄ</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic"># ÈªòËÆ§Â¶Ç‰∏ãÈÖçÁΩÆÊòØÂπ≥ÊùÉÁöÑÔºåÈöèÊú∫ÈÄâÊ¶ÇÁéáÁõ∏Âêå 1:1:1</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic"># ‰πüÂèØ‰ª•ÈÄöËøáÂä†ÊùÉÔºåÂ¶ÇÔºö</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic"># server 192.168.245.129:8080 weight=2;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic"># Ê≠§Êó∂ÁöÑÊùÉÈáçÊØî‰∏∫ 2:1:1</span>
</span></span><span style="display:flex;"><span>	upstream tomcat-travel <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		server 192.168.245.129:8080;
</span></span><span style="display:flex;"><span>		server 192.168.245.129:8081;
</span></span><span style="display:flex;"><span>		server 192.168.245.129:8082;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#998;font-style:italic"># ÈÖçÁΩÆ index ËÆøÈóÆËµÑÊ∫ê</span>
</span></span><span style="display:flex;"><span>	server <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		listen        80;
</span></span><span style="display:flex;"><span>		server_name   www.travel.com;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		location / <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#998;font-style:italic"># root    index;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#998;font-style:italic"># ÂØπÂ∫îË¶Å‰ª£ÁêÜÁöÑÁΩëÂùÄ</span>
</span></span><span style="display:flex;"><span>			proxy_pass http://tomcat-travel;
</span></span><span style="display:flex;"><span>			index      index.html index.htm;
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		...
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Â¶Ç Nginx ËøôÁßçÈÖçÁΩÆÊÄßÁöÑËΩØ‰ª∂ÔºåÁî®Êó∂Êü•ËØ¢Âç≥ÂèØÔºåÈáçÂú®ÁêÜËß£ÂÆÉÁöÑÂéüÁêÜ„ÄÇ</p>
<h3 id="proxypass">ProxyPass</h3>
<p><a href="http://nginx.org/en/docs/http/ngx_http_proxy_module.html#proxy_pass">3</a>¬†<a href="https://blog.csdn.net/qq_31772441/article/details/107072652">4</a></p>
<p>ÈÖçÁΩÆËØ≠Ê≥ïÔºö</p>
<pre tabindex="0"><code>Syntax:	 proxy_pass URL;
Default: ‚Äî
Context: location, if in location, limit_except
</code></pre><p>ÂÖ∂‰∏≠ÔºåURL Áî®‰∫éËÆæÁΩÆ‰ª£ÁêÜÊúçÂä°Âô®ÁöÑÂçèËÆÆÂíåÂú∞ÂùÄÔºå‰ª•ÂèäÂèØÈÄâÁöÑ uri Ôºå‰∏ÄËà¨Ë°®Áé∞ÂΩ¢Âºè‰∏∫Ôºö</p>
<ul>
<li><code>protocol://ip:port[uri]</code></li>
<li><code>protocal://domain[uri]</code></li>
</ul>
<p>Áî±‰∫é URL Êú´Â∞æ¬†<em>ÊòØÂê¶Â≠òÂú® uri</em>¬†ÁöÑÂ§ÑÁêÜÈÄªËæë‰∏çÂêåÔºåÊàë‰ª¨‰∏ãÈù¢Êù•ÁùÄÈáçÂàÜÊûê‰∏Ä‰∏ã„ÄÇ</p>
<p><strong>1. URL Êú´Â∞æÂ≠òÂú® uri</strong></p>
<p>Ê≥®ÊÑè¬†<code>/</code>¬†‰πüÁÆóÊòØ uri</p>
<p>Â§ÑÁêÜÈÄªËæëÔºö‰ª£ÁêÜËØ∑Ê±ÇÊó∂Ôºå‰ºöÂÖàÂ∞Ü¬†<em>ËØ∑Ê±ÇÁöÑ uri</em>¬†‰∏≠¬†<em>localtion ÂåπÈÖçÁöÑÈÉ®ÂàÜ</em>¬†ÊõøÊç¢Êàê¬†<code>proxy_pass</code>¬†ÊåáÂÆöÁöÑ uri¬†ÔºåÂÜçÂ∞ÜÊúÄÁªàÁöÑ uri¬†ÊãºÊé•Âà∞‰ª£ÁêÜÂú∞ÂùÄ¬†ÔºåÊâçÊòØÊúÄÁªàËÆøÈóÆÁöÑ url„ÄÇ</p>
<p>‰æãÂ¶ÇÔºåÊúâÂ¶Ç‰∏ãÈÖçÁΩÆÔºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>localtion /proxy <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	proxy_pass http://127.0.0.1:8099/svr1; <span style="color:#998;font-style:italic"># uri ‰∏∫ &#39;/svr1&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êàë‰ª¨ÂèëËµ∑Â¶Ç‰∏ãËØ∑Ê±ÇÔºö¬†<code>http://localhost:8088/proxy/index.html</code>¬†ÔºåËØ¶ÁªÜËß£ÊûêÂ¶Ç‰∏ãË°®„ÄÇ</p>
<table>
<thead>
<tr>
<th>ÈÉ®ÂàÜ</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>ËØ∑Ê±ÇÁöÑ uri</td>
<td><code>/proxy/index.html</code></td>
</tr>
<tr>
<td>location ÂåπÈÖçÁöÑÈÉ®ÂàÜ</td>
<td><code>/proxy</code></td>
</tr>
<tr>
<td><code>proxy_pass</code>¬†ÊåáÂÆöÁöÑ uri</td>
<td><code>/svr1</code></td>
</tr>
<tr>
<td>ÊúÄÁªàÁöÑ uri</td>
<td><code>/svr1/index.html</code></td>
</tr>
<tr>
<td>‰ª£ÁêÜÂú∞ÂùÄ</td>
<td><code>http://127.0.0.1:8099</code></td>
</tr>
<tr>
<td>ÊúÄÁªàËÆøÈóÆÁöÑ url</td>
<td><code>http://127.0.0.1:8099/svr1/index.html</code></td>
</tr>
</tbody>
</table>
<p>Âç≥Ôºö</p>
<ul>
<li>ÂéüÊú¨ËÆøÈóÆË∑ØÂæÑ‰∏∫Ôºö¬†<code>http://localhost:8088/proxy/index.html</code>¬†Ôºå</li>
<li>ÂÆûÈôÖËØ∑Ê±ÇË∑ØÂæÑ‰∏∫Ôºö¬†<code>http://127.0.0.1:8099/svr1/index.html</code>¬†„ÄÇ</li>
</ul>
<p><strong>2. URL Êú´Â∞æ‰∏çÂ≠òÂú® uri</strong></p>
<p>Â§ÑÁêÜÈÄªËæëÔºö‰ª£ÁêÜËØ∑Ê±ÇÊó∂ÔºåÁõ¥Êé•Â∞Ü¬†<em>ËØ∑Ê±ÇÁöÑ uri</em>¬†ÊãºÊé•Âà∞¬†<em>‰ª£ÁêÜÂú∞ÂùÄ</em>¬†ÔºåÂ∞±ÊòØ¬†<em>ÊúÄÁªàËÆøÈóÆÁöÑ url</em>¬†„ÄÇ</p>
<p>‰æãÂ¶ÇÔºåÊúâÂ¶Ç‰∏ãÈÖçÁΩÆÔºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>location /proxy2 <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	proxy_pass http://127.0.0.1:8099; <span style="color:#998;font-style:italic"># Êó† uri</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êàë‰ª¨ÂèëËµ∑Â¶Ç‰∏ãËØ∑Ê±ÇÔºö¬†<code>http://localhost:8088/proxy2/index.html</code>¬†ÔºåËØ¶ÁªÜËß£ÊûêÂ¶Ç‰∏ãË°®„ÄÇ</p>
<table>
<thead>
<tr>
<th>ÈÉ®ÂàÜ</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody>
<tr>
<td>ËØ∑Ê±ÇÁöÑ uri</td>
<td><code>proxy2/index.html</code></td>
</tr>
<tr>
<td>‰ª£ÁêÜÂú∞ÂùÄ</td>
<td><code>http://127.0.0.1:8099</code></td>
</tr>
<tr>
<td>ÊúÄÁªàËÆøÈóÆÁöÑ url</td>
<td><code>http://127.0.0.1:8099/proxy2/index.html</code></td>
</tr>
</tbody>
</table>
<p>Âç≥Ôºö</p>
<ul>
<li>ÂéüÊú¨ËÆøÈóÆË∑ØÂæÑ‰∏∫¬†<code>http://localhost:8088/proxy2/index.html</code>¬†Ôºå</li>
<li>ÂÆûÈôÖËØ∑Ê±ÇË∑ØÂæÑ‰∏∫¬†<code>http://127.0.0.1:8099/proxy2/index.html</code>¬†„ÄÇ</li>
</ul>
<p>Áúã proxy_pass ÁöÑ‰ΩøÁî®ÁöÑÊñπÊ≥ïÊú¨Ë¥®‰∏äÂ∞±ÊòØÂ∞±Ëøô‰πàÁÆÄÂçïÔºåÂÆòÁΩëÊñáÊ°£ËøôÈÉ®ÂàÜÊñáÊ°£ÂÜÖÂÆπ‰πü‰∏çÊòØÂæàÂ§öÔºåÊúâÊó∂ÂÄô‰∫ãÁâ©ÂæÄÂæÄÊòØÁî±‰∫éÊàë‰ª¨ÁêÜËß£‰∏çÂΩìÔºåËÄåË¢´ËøáÂàÜÁöÑÂ§çÊùÇÂåñ‰∫Ü„ÄÇ</p>
<h3 id="upstream">upstream</h3>
<p>Ëøô‰∏™ÊñπÊ≥ï‰∏ªË¶ÅÊòØÊñπ‰æøÊääÂçïÁã¨ÁöÑ‰ª£ÁêÜÂ≠òÂÇ®‰∏∫Áã¨Á´ãÁöÑÊñá‰ª∂ËøõË°åÂå∫ÂàÜÂíåËÆæÁΩÆÔºåÂèØ‰ª•Êõ¥Â•ΩÂú∞ËøõË°åÂ§ö‰∏™ÊúçÂä°Âô®ÁöÑ‰ª£ÁêÜËÆæÁΩÆÔºåÂåÖÊã¨ÊØè‰∏™Â≠êÊúçÂä°Âô®ÁöÑÊùÉÈáçÔºå‰ª•ÂèäÂàÜÂèëÁöÑÊñπÂºèÁ≠â„ÄÇ</p>
<p>ÈÖçÁΩÆËåÉ‰æãÔºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>upstream backend  <span style="color:#000;font-weight:bold">{</span>             <span style="color:#998;font-style:italic"># backend ‰∏∫ÂΩìÂâçÈÖçÁΩÆÁöÑÂêçÁß∞Ôºå‰∏é proxy_pass ÂèÇÊï∞ÂØπÂ∫î</span>
</span></span><span style="display:flex;"><span>	ip_hash;                    <span style="color:#998;font-style:italic"># Ë°®Á§∫Ë¥üËΩΩÂùáË°°ÈÖçÁΩÆ</span>
</span></span><span style="display:flex;"><span>	server backend1.example.com <span style="color:#008080">weight</span><span style="color:#000;font-weight:bold">=</span>5;
</span></span><span style="display:flex;"><span>	server backend2.example.com:8080;
</span></span><span style="display:flex;"><span>	server unix:/tmp/backend3;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>server <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	location / <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		proxy_pass  http://backend;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂÖ≥‰∫é¬†<code>ip_hash</code>¬†ÔºåÂÆÉË°®Á§∫Ë¥üËΩΩÂùáË°°ÁöÑÈÖçÁΩÆÔºåÂÆÉÁöÑËÆæÁΩÆÂèØ‰ª•‰ΩøÊØè‰∏™ËØ∑Ê±ÇÊåâËÆøÈóÆÁöÑ ip ÁöÑ hash ÁªìÊûúÂàÜÈÖçÔºåËøôÊ†∑ÊØè‰∏™ËÆøÂÆ¢Âõ∫ÂÆöËÆøÈóÆ‰∏Ä‰∏™ÂêéÁ´ØÊúçÂä°Âô®ÔºåÂèØ‰ª•Ëß£ÂÜ≥ session ÁöÑÈóÆÈ¢ò„ÄÇÂ§áÈÄâ‰∏∫¬†<code>url_hash</code>¬†ÔºåË°®Á§∫ÊåâÁî®Êà∑ÁöÑËÆøÈóÆ URL Êù•ËøõË°åÂàÜÈÖçÔºåËøôÊ†∑ËÆøÈóÆÁõ∏ÂêåÁöÑ URL Êó∂‰ºöÊåáÂêëÂêå‰∏ÄÂè∞ÊúçÂä°Âô®Ôºå‰∏ªË¶ÅÁî®‰∫é‰∏ãËΩΩÁ´ôÁÇπÔºåÂèØ‰ª•ËäÇÁ∫¶Â∏¶ÂÆΩËµÑÊ∫ê„ÄÇ</p>
<h2 id="ÂÖ∂‰ªñ">ÂÖ∂‰ªñ</h2>
<h3 id="nginx-‰∏Ä‰∏™-server-ÈÖçÁΩÆÂ§ö‰∏™-location">Nginx ‰∏Ä‰∏™ server ÈÖçÁΩÆÂ§ö‰∏™ location¬†</h3>
<p><a href="https://blog.csdn.net/tl4832194/article/details/106642981">1</a></p>
<p>Nginx ‰Ωú‰∏∫‰ª£ÁêÜÊúçÂä°Âô®ÔºåÂèØ‰ª•ÈÖçÁΩÆÂ§ö‰∏™ locationÔºåÈÄöËøáËÆøÈóÆ‰∏çÂêåË∑ØÂæÑÊù•ËÆøÈóÆ‰∏çÂêåÁõÆÂΩï„ÄÇÊØîÂ¶ÇÔºå¬†<code>location /</code>¬†Áî®‰∫éËÆøÈóÆÂÆòÁΩëÈ¶ñÈ°µÔºå¬†<code>location /docs</code>¬†Áî®‰∫éËÆøÈóÆÂ∏ÆÂä©ÊñáÊ°£„ÄÇ</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>server <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	listen		8088;
</span></span><span style="display:flex;"><span>	server_name	localhost;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	location / <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		root 	/path/to/site/index;
</span></span><span style="display:flex;"><span>		index	index.html index.htm;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	location /docs <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#0086b3">alias</span> 	/path/to/docs;	<span style="color:#998;font-style:italic"># Ê≥®ÊÑèËøôÈáåÊòØ alias</span>
</span></span><span style="display:flex;"><span>		index	index.html index.htm;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	‚Ä¶‚Ä¶
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong><code>alias</code>¬†Âíå¬†<code>root</code>¬†Êúâ‰ªÄ‰πàÂå∫Âà´Âë¢Ôºü</strong></p>
<p><code>root</code>¬†Âíå¬†<code>alias</code>¬†ÈÉΩÂèØ‰ª•ÂÆö‰πâÂú® location Ê®°Âùó‰∏≠ÔºåÈÉΩÊòØÁî®Êù•ÊåáÂÆöËØ∑Ê±ÇËµÑÊ∫êÁöÑÁúüÂÆûË∑ØÂæÑÔºåÊØîÂ¶ÇÔºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>location /abc/ <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	root /data/www;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËØ∑Ê±Ç¬†<code>http://ip:port/abc/123.png</code>¬†Êó∂ÔºåÂú®ÊúçÂä°Âô®ÈáåÈù¢ÂØπÂ∫îÁöÑÁúüÊ≠£ÁöÑËµÑÊ∫êÊòØ¬†<code>/data/www/abc/123.png</code>Ôºå‰πüÂ∞±ÊòØËØ¥Ôºå¬†<code>root</code>¬†ÁúüÂÆûË∑ØÂæÑÊòØ¬†<code>root</code>¬†ÊåáÂÆöÁöÑÂÄºÂä†‰∏ä¬†<code>location</code>¬†ÊåáÂÆöÁöÑÂÄº„ÄÇ</p>
<p>ËÄå¬†<code>alias</code>¬†ÊåáÂÆöÁöÑË∑ØÂæÑÊòØ¬†<code>location</code>¬†ÁöÑÂà´ÂêçÔºå‰∏çÁÆ°¬†<code>location</code>¬†ÁöÑÂÄºÊÄé‰πàÂÜôÔºåËµÑÊ∫êÁöÑÁúüÂÆûË∑ØÂæÑÈÉΩÊòØ¬†<code>alias</code>¬†ÊåáÂÆöÁöÑË∑ØÂæÑÔºåÊØîÂ¶ÇÔºö</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>location /abc/ <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">alias</span> /data/www;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ËØ∑Ê±Ç¬†<code>http://ip:port/abc/123.png</code>¬†Êó∂ÔºåÂú®ÊúçÂä°Âô®ÈáåÂØπÂ∫îÁöÑÁúüÊ≠£ÁöÑËµÑÊ∫êÊòØ¬†<code>/data/www/123.png</code>ÔºåËÄå‰∏çÂÜçÂåÖÂê´¬†<code>location</code>¬†ÊåáÂÆöÁöÑÂÄº‰∫Ü„ÄÇ</p>
<p>Ê≥®ÊÑèÔºö</p>
<ul>
<li>Âú®‰∏Ä‰∏™¬†<code>location</code>¬†‰∏≠Ôºå¬†<code>alias</code>¬†ÂèØ‰ª•Â≠òÂú®Â§ö‰∏™Ôºå‰ΩÜÊòØ¬†<code>root</code>¬†Âè™ËÉΩÊúâ‰∏Ä‰∏™Ôºõ</li>
<li><code>alias</code>¬†Âè™ËÉΩÂ≠òÂú®‰∏é¬†<code>location</code>¬†‰∏≠Ôºå‰ΩÜÊòØ¬†<code>root</code>¬†ÂèØ‰ª•Áî®Âú®¬†<code>server„ÄÅhttp</code>¬†Âíå¬†<code>location</code>¬†‰∏≠„ÄÇ</li>
</ul>
    </div>

    

    <div class="container-comment-giscus">
        <script src="https://giscus.app/client.js"
        data-repo="loveminimal/comment"
        data-repo-id="R_kgDOJNJQ8g"
        data-category="General"
        data-category-id="DIC_kwDOJNJQ8s4CYl0m"
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="noborder_light"
        data-lang="zh-CN"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
        </script>
</div>
</div>

        </div>
        <div id="footer"><div class="container-footer">
    

    <div class="beian">
        
        <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=">
            

        </a>

        
        <a href="/about" target="_blank">
            
            Â∞ÜÂñúÊ¨¢ÁöÑ‰∏ÄÂàáÁïôÂú®Ë∫´ËæπÔºåËøô‰æøÊòØÂä™ÂäõÁöÑÊÑè‰πâ
            
        </a>
    </div>

    
    <div class="info">
        
        <a href="https://github.com/loveminimal/hugo-theme-virgo">üïäÔ∏è</a> 2016 - <span id="info-date"></span>
    </div>

</div></div>
        <div class="cool-after" style="
            
                background-color: rgba(255, 255, 255, 0.69); 
                backdrop-filter: saturate(180%) blur(6px);
            
            "></div>
    </body>
</html>
